function IniciarTablaPremio(){$.fn.dataTable.ext.errMode="none";$("#TablaPremio").on("error.dt",function(){CargarAlertas(frmPremio)});var n=$("#TablaPremio").dataTable({dom:"Blfrtip",buttons:[{text:'<span class="iconoExcel" aria-hidden="true" title="Exportar a Excel"><\/span>',className:"btn btn-default btn-sm btn-imagen space1",action:function(){GenerarExcelCompletoPremio()}}],sAjaxSource:"/Premio/LlenarJSONGrilla",sServerMethod:"POST",order:[[0,"asc"],[2,"desc"]],aoColumns:[{data:"Order",sWidth:"5%"},{data:"Title_Es",sWidth:"40%"},{data:"Year",sWidth:"5%"},{data:"Areas",sWidth:"40%"},{data:null,sWidth:"10%",orderable:!1,sClass:"der",render:function(n,t,i){return renderBotonesPremio(i)}}],bAutoWidth:!1,bProcessing:!0,pageLength:25,fnServerData:function(n,t,i){$.ajax({dataType:"json",type:"POST",url:n,data:$("#frmBusquedaPremio").serialize(),success:i})},fnDrawCallback:function(){return eventHandlerBotonesGrillaPremio()}})}function eventHandlerBotonesGrillaPremio(){$(".dt-button").removeClass("dt-button");$(".btnVisible").on("click",function(){var n=$(this);$.ajax({type:"POST",dataType:"json",url:"/Premio/SetVisible",data:{id:n.data("idpremio"),state:n.val()==="1"?"0":"1"}}).success(function(){n.val()==="1"?(n.val(0),n.removeClass("btn-success").addClass("btn-danger")):(n.val(1),n.removeClass("btn-danger").addClass("btn-success"))}).always(function(){CargarAlertas(frmPremio)})});$(".btnEditar").on("click",function(){CargarModalPremio($(this).attr("data-IdPremio"))});$('[data-toggle="confirmation"]').confirmation({singleton:!0,placement:"left",title:"Eliminar",btnOkLabel:"Si",btnCancelLabel:"No",onConfirm:function(){return borrarRegistroPremio($(this).data("idpremio"))}})}function GenerarExcelCompletoPremio(){$("#TablaPremio td.dataTables_empty").length==0?$.post("/Premio/GenerarExcelCompletoPremio",$("#frmBusquedaPremio").serialize()).success(function(n){n.IsEverythingGood&&(window.location="/Premio/ExportarExcelCompleto?token="+n.Token)}).always(function(){CargarAlertas(frmPremio)}):Danger("La Exportaci√≥n Debe Contener Al Menos 1 Registro")}function renderBotonesPremio(n){return html="",html+='<button type="button" class="btnVisible btn '+(n.Visible===1?"btn-success":"btn-danger")+' btn-xs space1" data-IdPremio='+n.Id+' value="'+n.Visible+'">                <span class="glyphicon glyphicon-off"><\/span>            <\/button>',html+='<button type="button" class="btnEditar btn btn-default btn-xs space1" data-IdPremio='+n.Id+'>                <span class="glyphicon glyphicon-edit"><\/span>            <\/button>',html+='<button type="button" id="enc'+n.Id+'" class="btnEliminar btn btn-default btn-xs" data-IdPremio='+n.Id+' data-toggle="confirmation">                <span class="glyphicon glyphicon-remove"><\/span>            <\/button>'}function borrarRegistroPremio(n){$.ajax({dataType:"json",type:"POST",url:"/Premio/EliminarPremioById",data:{id:n}}).done(function(n){n.IsEverythingGood?ReloadTable("TablaPremio",!1):n.IsRedirect&&(window.location.href="/Home/Login")}).always(function(){CargarAlertas(frmPremio)})}function CargarPnlBusquedaPremio(){$("#pnlBusqueda").load("/Premio/Busqueda",function(n,t){t=="success"||CargarAlertas(frmReconocimientos)})}function MostrarPnlBusquedaPremio(){$("#pnlContainerBusqueda").slideToggle(500,function(){var n=$(".desplegableFiltros > span");n.hasClass("glyphicon-chevron-down")?n.removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up"):n.removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down")})}function AltaPremio(){CargarModalPremio("")}function CargarModalPremio(n){$("#dialog").load("/Premio/Modal",{id:n},function(n,t){t=="success"&&$("#dialog").modal("show")})}var frmPremio="Premios";