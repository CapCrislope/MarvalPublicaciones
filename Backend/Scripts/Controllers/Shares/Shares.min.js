function IniciarPnlBusquedaShares(){$("#pnlBusqueda").load("/Shares/Busqueda",function(){})}function IniciarTablaShares(){$.fn.dataTable.ext.errMode="none";$("#Tabla"+frmShare).on("error.dt",function(){CargarAlertas(frmShare)});var n=$("#Tabla"+frmShare).dataTable({dom:"Blfrti",buttons:[{text:'<span class="iconoExcel" aria-hidden="true" title="Exportar a Excel"><\/span>',className:"btn btn-default btn-sm btn-imagen space1",action:function(){return GetExcelShares()}}],order:[[0,"desc"]],columnDefs:[{type:"fecha",targets:0}],aoColumns:[{data:"Fecha",sWidth:"10%"},{data:"Tipo",sWidth:"10%"},{data:"Areas",sWidth:"15%"},{data:"Titulo",sWidth:"15%"},{data:"Emisor",sWidth:"15%"},{data:"Receptor",sWidth:"15%"},{data:"Comentario",sWidth:"15%"},{sWidth:"5%",sClass:"der",orderable:!1,render:function(n,t,i){return RenderBotoneraGrillaShares(i)}}],sAjaxSource:"/Shares/LlenarJSONGrilla",bProccessing:!0,bAutoWidth:!1,pageLength:25,fnDrawCallback:function(){return EventHandlerBotonesGrillaShares()},sServerMetodh:"POST",fnServerData:function(n,t,i){$.ajax({type:"POST",typeData:"json",url:n,data:$("#frmBusquedaShares").serialize(),success:i})}})}function RenderBotoneraGrillaShares(n){return""+('<button type="button" id="enc'+n.Id+'" class="btnEliminar btn btn-default btn-xs" data-IdShares='+n.Id+' data-toggle="confirmation">                <span class="glyphicon glyphicon-remove"><\/span>            <\/button>')}function EventHandlerBotonesGrillaShares(){$(".dt-button").removeClass("dt-button");$('[data-toggle="confirmation"').confirmation({singleton:!0,placement:"left",title:"Eliminar",btnOkLabel:"Si",btnCancelLabel:"No",onConfirm:function(){return borrarRegistroShares($(this).attr("data-IdShares"))}})}function borrarRegistroShares(n){$.post("/Shares/DeleteById",{id:n}).success(function(n){n.IsEverythingGood?ReloadTable("Tabla"+frmShare,!1):n.IsRedirect&&(window.location.href="/Home/Login")}).always(function(){CargarAlertas(frmShare)})}function GetExcelShares(){$("#TablaShares td.dataTables_empty").length==0?$.post("/Shares/GetExcelShares",$("#frmBusquedaShares").serialize()).success(function(n){n.IsEverythingGood&&(window.location="/Shares/ExportarExcelCompleto?token="+n.Token)}).always(function(){CargarAlertas(frmShare)}):Danger("La Exportaci√≥n Debe Contener Al Menos 1 Registro")}var frmShare="Shares";