function IniciarControles(){$.fn.dataTable.ext.errMode="none";$("#TablaMarvalNews").on("error.dt",function(){CargarAlertas(frmMarvalNews)});var n=$("#TablaMarvalNews").dataTable({dom:"lfrtip",order:[[1,"desc"]],bProcessing:!0,columnDefs:[{type:"fecha",targets:1}],sAjaxSource:"/MarvalNews/LlenarJSONGrillaMarvalNews",aoColumns:[{data:"id",visible:!1},{data:"date",sWidth:"20%",render:function(n,t,i){try{return i.date!=null?i.date.substring(0,10):""}catch(r){return""}}},{data:"nro",sWidth:"20%"},{data:"title_es",sWidth:"45%"},{data:"id",orderable:!1,sWidth:"10%",sClass:"der",render:function(n,t,i){return BotoneraGrilla(i)}}],bAutoWidth:!1,pageLength:50,fnDrawCallback:function(n){FuncionesBotonera(n.sTableId)}})}function BotoneraGrilla(n){var t="";return t+=n.Habilitado==1?'        <button type="button" class="habilitadoDialog btn btn-success btn-xs" data-clientid="'+n.id+'" title="Habilitado" value="0">             <span class="glyphicon glyphicon-off" aria-hidden="true"><\/span>         <\/button>':'        <button type="button" class="habilitadoDialog btn btn-danger btn-xs" data-clientid="'+n.id+'" title="DesHabilitado" value="1">             <span class="glyphicon glyphicon-off" aria-hidden="true"><\/span>         <\/button>',t+'        <button type="button" class="editDialog btn btn-default btn-xs editar" data-clientid="'+n.id+'" title="Editar">             <span class="glyphicon glyphicon-edit" aria-hidden="true"><\/span>         <\/button>         <button type="button" id="enc'+n.id+'" class="btn btn-default btn-xs eliminar" data-toggle="confirmation" data-placement="left" data-singleton="true" data-on-confirm="EliminarMarvalNews" data-title="¿Está seguro?" onclick="SeleccionarID('+n.id+');" title="Eliminar">             <span class="glyphicon glyphicon-remove" aria-hidden="true">             <\/span>         <\/button>'}function SeleccionarID(n){$("#hId").val(n)}function EliminarMarvalNews(){var n=$("#hId").val();$.post("/MarvalNews/EliminarMarvalNews/"+n).success(function(n){n.IsEverythingGood==!0?ReloadTable("TablaMarvalNews",!1):n.IsRedirect&&(window.location.href="/Home/Login");CargarAlertas(frmMarvalNews)})}function FuncionesBotonera(){$(".dt-button").removeClass("dt-button");$(".dt-buttons").addClass("space1");$("[data-toggle=confirmation]").confirmation();$(".editDialog").off().on("click",function(){return ModalMarvalNews($(this).data("clientid"),function(){}),!1});$(".habilitadoDialog").off().on("click",function(){var n=$(this),i=n.data("clientid"),t=n.attr("value");return $.post("/MarvalNews/HabilitarMarvalNews/",{id:i,habilitado:t}).success(function(i){i.IsEverythingGood==!0&&(t==1?(n.attr("value",0),n.removeClass("btn-danger"),n.addClass("btn-success")):(n.attr("value",1),n.removeClass("btn-success"),n.addClass("btn-danger")))}).always(function(){CargarAlertas(frmMarvalNews)}),!1})}function AltaMarvalNews(){ModalMarvalNews(null,function(){})}function ModalMarvalNews(n,t){$("#dialog").load("/MarvalNews/ModalMarvalNews",{idMarvalNews:n},function(n,i){i=="success"?($("#dialog").modal("show"),t&&t()):CargarAlertas(frmMarvalNews)})}var frmMarvalNews="MarvalNews",frmModal="Modal",frmHome="Home";$(document).ready(function(){IniciarControles();CargarAlertas(frmMarvalNews)});