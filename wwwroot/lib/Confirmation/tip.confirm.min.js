/*!
 * TipConfirm jQuery Plugin - v1.0.0-beta1
 *
 * Copyright 2017 Ganpat S Rajpurohit, Jaipur.
 *
 * Licensed MIT
 */
typeof Object.create!="function"&&(Object.create=function(n){function t(){}return t.prototype=n,new t}),function(n,t,i,r){var u={name:"tipConfirm",eClick:"click",eMEnter:"mouseenter",eMLeave:"mouseleave",defaultTheme:"tc-blue",defaultMessage:"¿Está seguro?",defaultPlacement:"top",_init:function(t,i){this.defaults=n.extend({},n.fn.tipConfirm.defaults,i);this.$el=n(t);this.html={};this._setTemplate();this._setTrigger()},_setTemplateHtml:function(){var i=this,l=i.defaults,f=this.$el,t=f.data(),e=t.hasOwnProperty("theme")?t.theme:i.defaultTheme,o=t.hasOwnProperty("message")?t.message:i.defaultMessage,s=t.hasOwnProperty("placement")?t.placement:i.defaultPlacement,r=n("<div />",{"class":"tc "+e}),h=n("<div />",{"class":"tc-message"}).text(o),c=n("<div />",{"class":"arrow "+s}),u;return h.appendTo(r),u=this._buttons(),u&&n.each(u,function(n,t){t.appendTo(r)}),this.html.inner=r,this.html.arrow=c,this.html},_buttons:function(){var t=this,i=t.defaults,u=t.$el,e=t.$container,f={};return i.buttons&&n.each(i.buttons,function(o,s){var h=n("<a />",{"class":s.class}).html(s.text);if(s.event&&s.event==="confirm")h.on("click",function(n){if(n.preventDefault(),i.onSubmit!==r){i.onSubmit(n,u);t._afterSubmit()}});else if(s.event&&s.event==="dismiss")h.on("click",function(n){n.preventDefault();u.removeData("tc");e.removeData("trigger")});else s.event&&s.event!=="confirm"&&s.event!=="dismiss"&&(h.attr("href",s.event),h.attr("target","_blank"));f[o]=h}),f},_setTemplate:function(){this.template='<div class="tc {{theme}}"><span class="tc-message">{{message}}<\/span><div style="margin-top: 7px;display: flex;align-items: center; justify-content: center;"><span class="tc-button tc-button-green tc-cy ">Si<\/span><span class="tc-cn">No<\/span><\/div><\/div><div class="arrow {{placement}}"><\/div>'},_setTrigger:function(){var n=this,t=n.$el;t.on(n.eClick,function(i){n.$container==r?(i.preventDefault(),n._calculatePosition()):(i.preventDefault(),t.removeData("tc"),n.$container.removeData("trigger"),n.$container.remove(),n.$container=r)})},_calculatePosition:function(){var t=this,i=this.$el,r=t.defaults.duration;t._createTip();setTimeout(n.proxy(function(){},this),1)},_createTip:function(){var t=this,r=t.$el,f=r.data(),e=t.defaults,i=n("<div />",{"class":"tc-container"}).data("trigger",r),u,o,s;t.$container=i;u=t._setTemplateHtml();o=t._processData();f.hasOwnProperty("size")?i.addClass(f.size):i.addClass(e.size);e.customButtons?(i.append(u.inner),i.append(u.arrow)):i.append(o);s=this._getCoordinates(r);this.$container.css(s);i.appendTo("body");r.data("tc",i);t._hideTip();t._actionSubmit();t._actionDismiss()},_processData:function(){var r=this,h=r.defaults,u=this.$el,i=u.data(),t=r.template,f=t.match(/\{\{([a-z0-9_]+)\}\}/g),e=i.hasOwnProperty("theme")?i.theme:r.defaultTheme,o=i.hasOwnProperty("message")?i.message:r.defaultMessage,s=i.hasOwnProperty("placement")?i.placement:r.defaultPlacement;return n(f).each(function(n,i){i=="{{theme}}"&&(t=t.replace("{{theme}}",e));i=="{{message}}"&&(t=t.replace("{{message}}",o));i=="{{placement}}"&&(t=t.replace("{{placement}}",s))}),t},_backdrop:function(){var i=this.defaults.backdrop,t;i&&i!=""&&(t=n("<div />",{"class":"backdrop"}),this.$backdrop=t,i=="black"?(t.addClass("black"),t.appendTo("body")):i=="white"?(t.addClass("white"),t.appendTo("body")):i=="blur"&&n("body").addClass("blur"))},_getCoordinates:function(n){var h=this,o=n,f=this.$container,i=70,e=55,t=this._getPosition(),r=f[0].offsetWidth,u=f[0].offsetHeight,s=o.data();switch(s.placement){case"top":return{top:t.top-u-i,left:t.left+t.width/2-r/2-e};case"left":return{top:t.top+t.height/2-u/2,left:t.left-r-i};case"right":return{top:t.top+t.height/2-u/2,left:t.left+t.width+i};case"bottom":return{top:t.top+t.height+i,left:t.left+t.width/2-r/2};default:return{top:t.top-u-i,left:t.left+t.width/2-r/2-e}}},_getPosition:function(){return{top:this.$el.offset().top,left:this.$el.offset().left,width:this.$el[0].offsetWidth,height:this.$el[0].offsetHeight}},_hideTip:function(){var t=this,f=t.$el,u=t.$container,e=t.$backdrop,o=t.defaults.duration,s=t.defaults.backdrop;n(i).on("click",function(i){f.each(function(){n(this).has(i.target).length===0&&u!=r&&(n(this).removeData("tc"),u.removeData("trigger"),u.remove(),t.$container=r)})})},_actionSubmit:function(){var n=this,t=n.defaults,i=n.$el,u=n.$container,f=u.find(".tc-cy");f.on("click",function(u){if(u.preventDefault(),t.onSubmit!==r){t.onSubmit(u,i);n._afterSubmit()}})},_actionDismiss:function(){var n=this,f=n.defaults,i=n.$el,t=n.$container,u=t.find(".tc-cn");u.on("click",function(u){u.preventDefault();i.removeData("tc");t.removeData("trigger");t.remove();n.$container=r})},_afterSubmit:function(){var n=this,i=n.defaults,r=n.$el,t=n.$container,u=t.find(".tc-cn")},init:function(){this._init.call(this,this.$el,this.defaults)},set:function(n,t){this.defaults[n]=t;this.init()}};n.fn.tipConfirm=function(t){if(n.isPlainObject(t))return this.each(function(){var i=Object.create(u);i._init(this,t);n(this).data("tipConfirm",i)});if(typeof t=="string"&&t.indexOf("_")!==0){var i=n(this).data("tipConfirm"),r=i[t];return r.apply(i,n.makeArray(arguments).slice(1))}return this.each(function(){var t=Object.create(u);t._init(this,n.fn.tipConfirm.defaults);n(this).data("tipConfirm",t)})};n.fn.tipConfirm.defaults={duration:1e3,size:"large",customButtons:!0,buttons:[{text:"Yes",event:"confirm","class":"btn btn-success btn-xs"},{text:"No",event:"https://gmail.com","class":"btn btn-danger btn-xs"}],onSubmit:function(){}}}(jQuery,window,document);