function MostrarPnlBusquedaSuscripciones(){$("#pnlContainerBusqueda").slideToggle(500,function(){var n=$(".desplegableFiltros > span");n.hasClass("glyphicon-chevron-down")?n.removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up"):n.removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down")})}function IniciarPnlBusqueda(){$("#pnlBusqueda").load("/Suscripciones/Busqueda",function(){})}function IniciarTablaSuscripciones(){$.fn.dataTable.ext.errMode="none";$("#Tabla"+frmSusc).on("error.dt",function(){CargarAlertas(frmSusc)});var n=$("#Tabla"+frmSusc).dataTable({dom:"Blfrti",buttons:[{text:'<span class="iconoExcel" aria-hidden="true" title="Exportar a Excel"><\/span>',className:"btn btn-default btn-sm btn-imagen space1",action:function(){return GetExcelContactsTemplate()}}],order:[[0,"desc"]],columnDefs:[{type:"fecha",targets:0}],aoColumns:[{data:"Fecha",sWidth:"10%"},{data:"Nombre",sWidth:"15%"},{data:"Apellido",sWidth:"15%"},{data:"Email",sWidth:"25%"},{data:"Area",sWidth:"30%"},{sWidth:"5%",sClass:"der",orderable:!1,render:function(n,t,i){return RenderBotoneraGrillaSuscripciones(i)}}],sAjaxSource:"/Suscripciones/LlenarJSONGrilla",bProccessing:!0,bAutoWidth:!1,pageLength:25,fnDrawCallback:function(){return EventHandlerBotonesGrillaSuscripciones()},sServerMetodh:"POST",fnServerData:function(n,t,i){$.ajax({type:"POST",typeData:"json",url:n,data:$("#frmBusquedaSuscripcion").serialize(),success:i})}})}function RenderBotoneraGrillaSuscripciones(n){return""+('<button type="button" id="enc'+n.Id+'" class="btnEliminar btn btn-default btn-xs" data-IdSuscripcion='+n.Id+' data-toggle="confirmation">                <span class="glyphicon glyphicon-remove"><\/span>            <\/button>')}function EventHandlerBotonesGrillaSuscripciones(){$(".dt-button").removeClass("dt-button");$('[data-toggle="confirmation"').confirmation({singleton:!0,placement:"left",title:"Eliminar",btnOkLabel:"Si",btnCancelLabel:"No",onConfirm:function(){return borrarRegistroSuscripcion($(this).attr("data-IdSuscripcion"))}})}function LimpiarFormBusquedaSuscripcion(){$("#FechaDesde, #FechaHasta").val("")}function BuscarSuscripcion(){ReloadTable("Tabla"+frmSusc)}function borrarRegistroSuscripcion(n){$.post("/Suscripciones/DeleteById",{id:n}).success(function(n){n.IsEverythingGood?ReloadTable("Tabla"+frmSusc,!1):n.IsRedirect&&(window.location.href="/Home/Login")}).always(function(){CargarAlertas(frmSusc)})}function GetExcelContactsTemplate(){$("#TablaSuscripciones td.dataTables_empty").length==0?$.post("/Suscripciones/GetExcelContactsTemplate",$("#frmBusquedaSuscripcion").serialize()).success(function(n){n.IsEverythingGood&&(window.location="/Suscripciones/ExportarExcelCompleto?token="+n.Token)}).always(function(){CargarAlertas(frmSusc)}):Danger("La Exportaci√≥n Debe Contener Al Menos 1 Registro")}var frmSusc="Suscripciones";