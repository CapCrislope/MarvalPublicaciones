function InicializarCombosAndCkeditorCasosDeEstudio(){InicializarCKEDITOR("Caso_Header_es");InicializarCKEDITOR("Caso_Content_es");InicializarCKEDITOR("Caso_Meta_description_es");InicializarCKEDITOR("Caso_Introduction_es");InicializarCKEDITOR("Caso_Challenge_Title_es");InicializarCKEDITOR("Caso_Challenge_Content_es");InicializarCKEDITOR("Caso_Solution_Title_es");InicializarCKEDITOR("Caso_Solution_Content_es");InicializarCKEDITOR("Caso_Result_Title_es");InicializarCKEDITOR("Caso_Result_Content_es");InicializarCKEDITOR("Caso_Header_en");InicializarCKEDITOR("Caso_Content_en");InicializarCKEDITOR("Caso_Meta_description_en");InicializarCKEDITOR("Caso_Introduction_en");InicializarCKEDITOR("Caso_Challenge_Title_en");InicializarCKEDITOR("Caso_Challenge_Content_en");InicializarCKEDITOR("Caso_Solution_Title_en");InicializarCKEDITOR("Caso_Solution_Content_en");InicializarCKEDITOR("Caso_Result_Title_en");InicializarCKEDITOR("Caso_Result_Content_en");var n=JSON.parse("["+$("#hAreasPracticas"+frmModal).val()+"]"),t=JSON.parse("["+$("#hAutores"+frmModal).val()+"]"),i=$("#hImagenPosY"+frmModal).val();new Combo({name:"AreasPracticas",view:frmModal,actionController:"/AreaPractica/LlenarAreasPracticas/",selectValue:n}).createBasicCombo();new Combo({name:"Autores",view:frmModal,actionController:"/Profesional/LlenarProfesionales/",selectValue:t}).createBasicCombo();new Combo({name:"ImagenPosY",view:frmModal,actionController:"/Articulo/LlenarComboPosImg/",cantItems:1,selectValue:i}).createBasicCombo()}function InicializarTablaCasosDeEstudio(){$.fn.dataTable.ext.errMode="none";$("#CasosDeEstudioTable").on("error.dt",function(){CargarAlertas(frmCasosDeEstudio)});var n=$("#CasosDeEstudioTable").dataTable({dom:"lfrtip",sAjaxSource:"/CasosDeEstudio/LlenarJSONGrillaCasosDeEstudio",sServerMethod:"POST",columnDefs:[{type:"fecha",targets:2}],aoColumns:[{data:"Titulo",sWidth:"30%"},{data:"Profesionales",sWidth:"45%"},{data:"Fecha",sWidth:"10%"},{data:"IdCaso",sClass:"der",orderable:!1,sWidth:"20%",render:function(n,t,i){return BotoneraCasosDeEstudio(i)}}],bAutoWidth:!1,pageLength:50,language:{select:{rows:". %d filas seleccionadas"}},fnDrawCallback:function(){FuncionesBotoneraGrillaCasosDeEstudio()}})}function BotoneraCasosDeEstudio(n){var t="";return t+=n.Visible==1?'        <button type="button" class="habilitadoDialog btn btn-success btn-xs" data-clientid="'+n.IdCaso+'" title="Habilitado" value="1">             <span class="glyphicon glyphicon-off" aria-hidden="true"><\/span>         <\/button>':'        <button type="button" class="habilitadoDialog btn btn-danger btn-xs" data-clientid="'+n.IdCaso+'" title="DesHabilitado" value="0">             <span class="glyphicon glyphicon-off" aria-hidden="true"><\/span>         <\/button>',t+('        <button type="button" class="editDialog btn btn-default btn-xs" data-clientid="'+n.IdCaso+'" title="Editar">             <span class="glyphicon glyphicon-edit" aria-hidden="true"><\/span>         <\/button>         <button type="button" id="mat_'+n.IdCaso+'" class="btn btn-default btn-xs" data-toggle="confirmation" data-placement="left" data-singleton="true" data-on-confirm="EliminarCasoEstudio" data-title="¿Está seguro?" onclick="SelCasoDeEstudio('+n.IdCaso+');">             <span class="glyphicon glyphicon-remove" aria-hidden="true">             <\/span>         <\/button>     <a role="button" id="'+n.IdCaso+'" class="btn btn-default btn-xs" target="_blank" href="'+web_url_casos+n.Slug+"-"+n.IdCaso+'">             <span class="glyphicon glyphicon-globe" aria-hidden="true">             <\/span>         <\/a>')}function FuncionesBotoneraGrillaCasosDeEstudio(){$("[data-toggle=confirmation]").confirmation();$(".editDialog").off().on("click",function(){ModalCasoDeEstudio($(this).data("clientid"))});$(".habilitadoDialog").off().on("click",function(){var n=$(this),t=n.data("clientid"),i=n.attr("value");return $.post("/CasosDeEstudio/Habilitar/",{idCasoEstudio:t,Visible:i}).success(function(n){n.IsEverythingGood==!0&&ReloadTable("CasosDeEstudioTable",!1)}).always(function(){CargarAlertas(frmCasosDeEstudio)}),!1})}function AltaCasoDeEstudio(){ModalCasoDeEstudio(null)}function ModalCasoDeEstudio(n){$("#dialog").load("/CasosDeEstudio/ModalCasoDeEstudio",{IdCasoEstudio:n},function(n,t){t=="success"?$("#dialog").modal("show"):CargarAlertas(frmCasosDeEstudio)})}function SelCasoDeEstudio(n){$("#idCasoDeEstudio").val(n)}function EliminarCasoEstudio(){var n=$("#idCasoDeEstudio").val();$.post("/CasosDeEstudio/Eliminar",{idCasoEstudio:n}).success(function(n){n.IsEverythingGood==!0?ReloadTable("CasosDeEstudioTable",!1):n.IsRedirect}).always(function(){CargarAlertas(frmCasosDeEstudio)})}function SaveCasoDeEstudio(){if($("#divFormatoFotoIncorrecto").addClass("hidden"),ValidarArchivo("inputFilePicture",formatosImagenesValidas))if($("#fileName_es").val()!=""&&$("#fileName_en").val()!=""){if($("#errorFile_es").addClass("hidden"),$("#errorFile_en").addClass("hidden"),$("#Caso_Header_es").val(CKEDITOR.instances.Caso_Header_es.getData()),$("#Caso_Content_es").val(CKEDITOR.instances.Caso_Content_es.getData()),$("#Caso_Meta_description_es").val(CKEDITOR.instances.Caso_Meta_description_es.getData()),$("#Caso_Introduction_es").val(CKEDITOR.instances.Caso_Introduction_es.getData()),$("#Caso_Challenge_Title_es").val(CKEDITOR.instances.Caso_Challenge_Title_es.getData()),$("#Caso_Challenge_Content_es").val(CKEDITOR.instances.Caso_Challenge_Content_es.getData()),$("#Caso_Solution_Title_es").val(CKEDITOR.instances.Caso_Solution_Title_es.getData()),$("#Caso_Solution_Content_es").val(CKEDITOR.instances.Caso_Solution_Content_es.getData()),$("#Caso_Result_Title_es").val(CKEDITOR.instances.Caso_Result_Title_es.getData()),$("#Caso_Result_Content_es").val(CKEDITOR.instances.Caso_Result_Content_es.getData()),$,$("#Caso_Header_en").val(CKEDITOR.instances.Caso_Header_en.getData()),$("#Caso_Content_en").val(CKEDITOR.instances.Caso_Content_en.getData()),$("#Caso_Meta_description_en").val(CKEDITOR.instances.Caso_Meta_description_en.getData()),$("#Caso_Introduction_en").val(CKEDITOR.instances.Caso_Introduction_en.getData()),$("#Caso_Challenge_Title_en").val(CKEDITOR.instances.Caso_Challenge_Title_en.getData()),$("#Caso_Challenge_Content_en").val(CKEDITOR.instances.Caso_Challenge_Content_en.getData()),$("#Caso_Solution_Title_en").val(CKEDITOR.instances.Caso_Solution_Title_en.getData()),$("#Caso_Solution_Content_en").val(CKEDITOR.instances.Caso_Solution_Content_en.getData()),$("#Caso_Result_Title_en").val(CKEDITOR.instances.Caso_Result_Title_en.getData()),$("#Caso_Result_Content_en").val(CKEDITOR.instances.Caso_Result_Content_en.getData()),$("#Caso_Destacado").val($("#Destacado").is(":checked")?1:0),$("#Caso_Priorizar").val($("#Priorizar").is(":checked")?1:0),$("#CasoDeEstudioForm").valid()){var n=new FormData($("#CasoDeEstudioForm")[0]);$.ajax({url:"/CasosDeEstudio/GuardarCasoDeEstudio",type:"POST",data:n,cache:!1,contentType:!1,processData:!1}).success(function(n){n.IsEverythingGood==!0?(ReloadTable("CasosDeEstudioTable",!0),$("#dialog").modal("hide")):n.IsRedirect}).always(function(){CargarAlertas(frmModal)})}}else $("#fileName_es").val()==""?$("#errorFile_es").removeClass("hidden"):$("#errorFile_es").addClass("hidden"),$("#fileName_en").val()==""?$("#errorFile_en").removeClass("hidden"):$("#errorFile_en").addClass("hidden");else $("#divFormatoFotoIncorrecto").removeClass("hidden");return!1}var frmCasosDeEstudio="CasosDeEstudio",frmModal="Modal",formatosImagenesValidas=["jpg","jpeg","png","bmp"];