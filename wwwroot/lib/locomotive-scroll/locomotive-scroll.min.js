(function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis!="undefined"?globalThis:n||self,n.LocomotiveScroll=t())})(this,function(){"use strict";function l(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function g(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function a(n,t,i){return t&&g(n.prototype,t),i&&g(n,i),n}function pt(n,t,i){return t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function nt(n,t){var r=Object.keys(n),i;return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(n),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,i)),r}function p(n){for(var i,t=1;t<arguments.length;t++)i=arguments[t]!=null?arguments[t]:{},t%2?nt(Object(i),!0).forEach(function(t){pt(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):nt(Object(i)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))});return n}function tt(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}});t&&w(n,t)}function r(n){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},r(n)}function w(n,t){return w=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n},w(n,t)}function wt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}function it(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function bt(n,t){return t&&(typeof t=="object"||typeof t=="function")?t:it(n)}function rt(n){var t=wt();return function(){var u=r(n),i,f;return t?(f=r(this).constructor,i=Reflect.construct(u,arguments,f)):i=u.apply(this,arguments),bt(this,i)}}function kt(n,t){while(!Object.prototype.hasOwnProperty.call(n,t))if(n=r(n),n===null)break;return n}function u(n,t,i){return u=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(n,t,i){var u=kt(n,t),r;if(u)return(r=Object.getOwnPropertyDescriptor(u,t),r.get)?r.get.call(i):r.value},u(n,t,i||n)}function o(n,t){return ni(n)||ii(n,t)||ut(n,t)||ui()}function dt(n){return gt(n)||ti(n)||ut(n)||ri()}function gt(n){if(Array.isArray(n))return b(n)}function ni(n){if(Array.isArray(n))return n}function ti(n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(n))return Array.from(n)}function ii(n,t){var i,o;if(typeof Symbol!="undefined"&&Symbol.iterator in Object(n)){var r=[],u=!0,f=!1,e=undefined;try{for(i=n[Symbol.iterator]();!(u=(o=i.next()).done);u=!0)if(r.push(o.value),t&&r.length===t)break}catch(s){f=!0;e=s}finally{try{u||i["return"]==null||i["return"]()}finally{if(f)throw e;}}return r}}function ut(n,t){if(n){if(typeof n=="string")return b(n,t);var i=Object.prototype.toString.call(n).slice(8,-1);return(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?b(n,t):void 0}}function b(n,t){(t==null||t>n.length)&&(t=n.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=n[i];return r}function ri(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function ui(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function et(n,t){return t={exports:{}},n(t,t.exports),t.exports}function hi(n){if(n===null||n===undefined)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function ci(){var i,t,n,u,r;try{if(!Object.assign||(i=new String("abc"),i[5]="de",Object.getOwnPropertyNames(i)[0]==="5"))return!1;for(t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;return(u=Object.getOwnPropertyNames(t).map(function(n){return t[n]}),u.join("")!=="0123456789")?!1:(r={},"abcdefghijklmnopqrst".split("").forEach(function(n){r[n]=n}),Object.keys(Object.assign({},r)).join("")!=="abcdefghijklmnopqrst")?!1:!0}catch(f){return!1}}function ct(){}function wi(n,t){return function(){return n.apply(t,arguments)}}function t(n){pi(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown");this.el=window;n&&n.el&&(this.el=n.el,delete n.el);this.options=ht({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},n);this.options.limitInertia&&(this._lethargy=new bi);this._emitter=new li;this._event={y:0,x:0,deltaX:0,deltaY:0};this.touchStartX=null;this.touchStartY=null;this.bodyTouchAction=null;this.options.passive!==undefined&&(this.listenerOptions={passive:this.options.passive})}function k(n,t,i){return(1-i)*n+i*t}function i(n){var i={};if(window.getComputedStyle){var r=getComputedStyle(n),u=r.transform||r.webkitTransform||r.mozTransform,t=u.match(/^matrix3d\((.+)\)$/);return t?(i.x=t?parseFloat(t[1].split(", ")[12]):0,i.y=t?parseFloat(t[1].split(", ")[13]):0):(t=u.match(/^matrix\((.+)\)$/),i.x=t?parseFloat(t[1].split(", ")[4]):0,i.y=t?parseFloat(t[1].split(", ")[5]):0),i}}function d(n){for(var t=[];n&&n!==document;n=n.parentNode)t.push(n);return t}function lt(n,t){return 1-3*t+3*n}function at(n,t){return 3*t-6*n}function vt(n){return 3*n}function y(n,t,i){return((lt(t,i)*n+at(t,i))*n+vt(t))*n}function yt(n,t,i){return 3*lt(t,i)*n*n+2*at(t,i)*n+vt(t)}function rr(n,t,i,r,u){var e,f,o=0;do f=t+(i-t)/2,e=y(f,r,u)-n,e>0?i=f:t=f;while(Math.abs(e)>nr&&++o<tr);return f}function ur(n,t,i,r){for(var f,e,u=0;u<di;++u){if(f=yt(t,i,r),f===0)return t;e=y(t,i,r)-n;t-=e/f}return t}function fr(n){return n}var s={el:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,initPosition:{x:0,y:0},direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!1,lerp:.1,"class":"is-inview",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,scrollFromAnywhere:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,resetNativeScroll:!0,tablet:{smooth:!1,direction:"vertical",gestureDirection:"vertical",breakpoint:1024},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical"}},ft=function(){function n(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};l(this,n);Object.assign(this,s,t);this.smartphone=s.smartphone;t.smartphone&&Object.assign(this.smartphone,t.smartphone);this.tablet=s.tablet;t.tablet&&Object.assign(this.tablet,t.tablet);this.namespace="locomotive";this.html=document.documentElement;this.windowHeight=window.innerHeight;this.windowWidth=window.innerWidth;this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2};this.els={};this.currentElements={};this.listeners={};this.hasScrollTicking=!1;this.hasCallEventSet=!1;this.checkScroll=this.checkScroll.bind(this);this.checkResize=this.checkResize.bind(this);this.checkEvent=this.checkEvent.bind(this);this.instance={scroll:{x:0,y:0},limit:{x:this.html.offsetWidth,y:this.html.offsetHeight},currentElements:this.currentElements};this.context=this.isMobile?this.isTablet?"tablet":"smartphone":"desktop";this.isMobile&&(this.direction=this[this.context].direction);this.directionAxis=this.direction==="horizontal"?"x":"y";this.getDirection&&(this.instance.direction=null);this.getDirection&&(this.instance.speed=0);this.html.classList.add(this.initClass);window.addEventListener("resize",this.checkResize,!1)}return a(n,[{key:"init",value:function(){this.initEvents()}},{key:"checkScroll",value:function(){this.dispatchScroll()}},{key:"checkResize",value:function(){var n=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame(function(){n.resize();n.resizeTick=!1}))}},{key:"resize",value:function(){}},{key:"checkContext",value:function(){var n,t,i;this.reloadOnContextChange&&(this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint,n=this.context,this.context=this.isMobile?this.isTablet?"tablet":"smartphone":"desktop",n!=this.context&&(t=n=="desktop"?this.smooth:this[n].smooth,i=this.context=="desktop"?this.smooth:this[this.context].smooth,t!=i&&window.location.reload()))}},{key:"initEvents",value:function(){var n=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]"));this.setScrollTo=this.setScrollTo.bind(this);this.scrollToEls.forEach(function(t){t.addEventListener("click",n.setScrollTo,!1)})}},{key:"setScrollTo",value:function(n){n.preventDefault();this.scrollTo(n.currentTarget.getAttribute("data-".concat(this.name,"-href"))||n.currentTarget.getAttribute("href"),{offset:n.currentTarget.getAttribute("data-".concat(this.name,"-offset"))})}},{key:"addElements",value:function(){}},{key:"detectElements",value:function(n){var t=this,i=this.instance.scroll.y,u=i+this.windowHeight,r=this.instance.scroll.x,f=r+this.windowWidth;Object.entries(this.els).forEach(function(e){var c=o(e,2),h=c[0],s=c[1],l,a;s&&(!s.inView||n)&&(t.direction==="horizontal"?f>=s.left&&r<s.right&&t.setInView(s,h):u>=s.top&&i<s.bottom&&t.setInView(s,h));s&&s.inView&&(t.direction==="horizontal"?(l=s.right-s.left,s.progress=(t.instance.scroll.x-(s.left-t.windowWidth))/(l+t.windowWidth),(f<s.left||r>s.right)&&t.setOutOfView(s,h)):(a=s.bottom-s.top,s.progress=(t.instance.scroll.y-(s.top-t.windowHeight))/(a+t.windowHeight),(u<s.top||i>s.bottom)&&t.setOutOfView(s,h)))});this.hasScrollTicking=!1}},{key:"setInView",value:function(n,t){this.els[t].inView=!0;n.el.classList.add(n["class"]);this.currentElements[t]=n;n.call&&this.hasCallEventSet&&(this.dispatchCall(n,"enter"),n.repeat||(this.els[t].call=!1))}},{key:"setOutOfView",value:function(n,t){var i=this;this.els[t].inView=!1;Object.keys(this.currentElements).forEach(function(n){n===t&&delete i.currentElements[n]});n.call&&this.hasCallEventSet&&this.dispatchCall(n,"exit");n.repeat&&n.el.classList.remove(n["class"])}},{key:"dispatchCall",value:function(n,t){this.callWay=t;this.callValue=n.call.split(",").map(function(n){return n.trim()});this.callObj=n;this.callValue.length==1&&(this.callValue=this.callValue[0]);var i=new Event(this.namespace+"call");this.el.dispatchEvent(i)}},{key:"dispatchScroll",value:function(){var n=new Event(this.namespace+"scroll");this.el.dispatchEvent(n)}},{key:"setEvents",value:function(n,t){this.listeners[n]||(this.listeners[n]=[]);var i=this.listeners[n];i.push(t);i.length===1&&this.el.addEventListener(this.namespace+n,this.checkEvent,!1);n==="call"&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function(n,t){if(this.listeners[n]){var i=this.listeners[n],r=i.indexOf(t);r<0||(i.splice(r,1),i.index===0&&this.el.removeEventListener(this.namespace+n,this.checkEvent,!1))}}},{key:"checkEvent",value:function(n){var t=this,r=n.type.replace(this.namespace,""),i=this.listeners[r];i&&i.length!==0&&i.forEach(function(n){switch(r){case"scroll":return n(t.instance);case"call":return n(t.callValue,t.callWay,t.callObj);default:return n()}})}},{key:"startScroll",value:function(){}},{key:"stopScroll",value:function(){}},{key:"setScroll",value:function(){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function(){var n=this;window.removeEventListener("resize",this.checkResize,!1);Object.keys(this.listeners).forEach(function(t){n.el.removeEventListener(n.namespace+t,n.checkEvent,!1)});this.listeners={};this.scrollToEls.forEach(function(t){t.removeEventListener("click",n.setScrollTo,!1)});this.html.classList.remove(this.initClass)}}]),n}(),fi=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ot=et(function(n){(function(){function t(){function v(n){return new RegExp("MSIE |Trident/|Edge/").test(n)}function s(n,t){this.scrollLeft=n;this.scrollTop=t}function y(n){return.5*(1-Math.cos(Math.PI*n))}function u(n){if(n===null||typeof n!="object"||n.behavior===undefined||n.behavior==="auto"||n.behavior==="instant")return!0;if(typeof n=="object"&&n.behavior==="smooth")return!1;throw new TypeError("behavior member of ScrollOptions "+n.behavior+" is not a valid value for enumeration ScrollBehavior.");}function h(n,t){return t==="Y"?n.clientHeight+e<n.scrollHeight:t==="X"?n.clientWidth+e<n.scrollWidth:void 0}function c(t,i){var r=n.getComputedStyle(t,null)["overflow"+i];return r==="auto"||r==="scroll"}function p(n){var t=h(n,"Y")&&c(n,"Y"),i=h(n,"X")&&c(n,"X");return t||i}function w(n){while(n!==t.body&&p(n)===!1)n=n.parentNode||n.host;return n}function l(t){var e=o(),r,u,f,i=(e-t.startTime)/a;i=i>1?1:i;r=y(i);u=t.startX+(t.x-t.startX)*r;f=t.startY+(t.y-t.startY)*r;t.method.call(t.scrollable,u,f);(u!==t.x||f!==t.y)&&n.requestAnimationFrame(l.bind(n,t))}function f(i,u,f){var e,h,c,a,v=o();i===t.body?(e=n,h=n.scrollX||n.pageXOffset,c=n.scrollY||n.pageYOffset,a=r.scroll):(e=i,h=i.scrollLeft,c=i.scrollTop,a=s);l({scrollable:e,method:a,startTime:v,startX:h,startY:c,x:u,y:f})}var n=window,t=document,e;if(!("scrollBehavior"in t.documentElement.style)||n.__forceSmoothScrollPolyfill__===!0){var i=n.HTMLElement||n.Element,a=468,r={scroll:n.scroll||n.scrollTo,scrollBy:n.scrollBy,elementScroll:i.prototype.scroll||s,scrollIntoView:i.prototype.scrollIntoView},o=n.performance&&n.performance.now?n.performance.now.bind(n.performance):Date.now;e=v(n.navigator.userAgent)?1:0;n.scroll=n.scrollTo=function(){if(arguments[0]!==undefined){if(u(arguments[0])===!0){r.scroll.call(n,arguments[0].left!==undefined?arguments[0].left:typeof arguments[0]!="object"?arguments[0]:n.scrollX||n.pageXOffset,arguments[0].top!==undefined?arguments[0].top:arguments[1]!==undefined?arguments[1]:n.scrollY||n.pageYOffset);return}f.call(n,t.body,arguments[0].left!==undefined?~~arguments[0].left:n.scrollX||n.pageXOffset,arguments[0].top!==undefined?~~arguments[0].top:n.scrollY||n.pageYOffset)}};n.scrollBy=function(){if(arguments[0]!==undefined){if(u(arguments[0])){r.scrollBy.call(n,arguments[0].left!==undefined?arguments[0].left:typeof arguments[0]!="object"?arguments[0]:0,arguments[0].top!==undefined?arguments[0].top:arguments[1]!==undefined?arguments[1]:0);return}f.call(n,t.body,~~arguments[0].left+(n.scrollX||n.pageXOffset),~~arguments[0].top+(n.scrollY||n.pageYOffset))}};i.prototype.scroll=i.prototype.scrollTo=function(){if(arguments[0]!==undefined){if(u(arguments[0])===!0){if(typeof arguments[0]=="number"&&arguments[1]===undefined)throw new SyntaxError("Value could not be converted");r.elementScroll.call(this,arguments[0].left!==undefined?~~arguments[0].left:typeof arguments[0]!="object"?~~arguments[0]:this.scrollLeft,arguments[0].top!==undefined?~~arguments[0].top:arguments[1]!==undefined?~~arguments[1]:this.scrollTop);return}var n=arguments[0].left,t=arguments[0].top;f.call(this,this,typeof n=="undefined"?this.scrollLeft:~~n,typeof t=="undefined"?this.scrollTop:~~t)}};i.prototype.scrollBy=function(){if(arguments[0]!==undefined){if(u(arguments[0])===!0){r.elementScroll.call(this,arguments[0].left!==undefined?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,arguments[0].top!==undefined?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop);return}this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior})}};i.prototype.scrollIntoView=function(){if(u(arguments[0])===!0){r.scrollIntoView.call(this,arguments[0]===undefined?!0:arguments[0]);return}var i=w(this),e=i.getBoundingClientRect(),o=this.getBoundingClientRect();i!==t.body?(f.call(this,i,i.scrollLeft+o.left-e.left,i.scrollTop+o.top-e.top),n.getComputedStyle(i).position!=="fixed"&&n.scrollBy({left:e.left,top:e.top,behavior:"smooth"})):n.scrollBy({left:o.left,top:o.top,behavior:"smooth"})}}}n.exports={polyfill:t}})()}),sr=ot.polyfill,ei=function(n){function t(){var n,r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return l(this,t),n=i.call(this,r),n.resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0)),window.addEventListener("scroll",n.checkScroll,!1),window.smoothscrollPolyfill===undefined&&(window.smoothscrollPolyfill=ot,window.smoothscrollPolyfill.polyfill()),n}tt(t,n);var i=rt(t);return a(t,[{key:"init",value:function(){this.instance.scroll.y=window.pageYOffset;this.addElements();this.detectElements();u(r(t.prototype),"init",this).call(this)}},{key:"checkScroll",value:function(){var n=this;u(r(t.prototype),"checkScroll",this).call(this);this.getDirection&&this.addDirection();this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now());this.instance.scroll.y=window.pageYOffset;Object.entries(this.els).length&&(this.hasScrollTicking||(requestAnimationFrame(function(){n.detectElements()}),this.hasScrollTicking=!0))}},{key:"addDirection",value:function(){window.pageYOffset>this.instance.scroll.y?this.instance.direction!=="down"&&(this.instance.direction="down"):window.pageYOffset<this.instance.scroll.y&&this.instance.direction!=="up"&&(this.instance.direction="up")}},{key:"addSpeed",value:function(){this.instance.speed=window.pageYOffset!=this.instance.scroll.y?(window.pageYOffset-this.instance.scroll.y)/Math.max(1,Date.now()-this.speedTs):0}},{key:"resize",value:function(){Object.entries(this.els).length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function(){var n=this,t;this.els={};t=this.el.querySelectorAll("[data-"+this.name+"]");t.forEach(function(t,i){var b=t.getBoundingClientRect(),l=t.dataset[n.name+"Class"]||n["class"],f=typeof t.dataset[n.name+"Id"]=="string"?t.dataset[n.name+"Id"]:i,r,s,a=typeof t.dataset[n.name+"Offset"]=="string"?t.dataset[n.name+"Offset"].split(","):n.offset,e=t.dataset[n.name+"Repeat"],w=t.dataset[n.name+"Call"],v=t.dataset[n.name+"Target"],u,h,o,y,c,p;u=v!==undefined?document.querySelector("".concat(v)):t;h=u.getBoundingClientRect();r=h.top+n.instance.scroll.y;s=h.left+n.instance.scroll.x;o=r+u.offsetHeight;y=s+u.offsetWidth;e=e=="false"?!1:e!=undefined?!0:n.repeat;c=n.getRelativeOffset(a);r=r+c[0];o=o-c[1];p={el:t,targetEl:u,id:f,"class":l,top:r,bottom:o,left:s,right:y,offset:a,progress:0,repeat:e,inView:!1,call:w};n.els[f]=p;t.classList.contains(l)&&n.setInView(n.els[f],f)})}},{key:"updateElements",value:function(){var n=this;Object.entries(this.els).forEach(function(t){var r=o(t,2),u=r[0],i=r[1],f=i.targetEl.getBoundingClientRect().top+n.instance.scroll.y,s=f+i.targetEl.offsetHeight,e=n.getRelativeOffset(i.offset);n.els[u].top=f+e[0];n.els[u].bottom=s-e[1]});this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function(n){var i=[0,0],t;if(n)for(t=0;t<n.length;t++)i[t]=typeof n[t]=="string"?n[t].includes("%")?parseInt(n[t].replace("%","")*this.windowHeight/100):parseInt(n[t]):n[t];return i}},{key:"scrollTo",value:function(n){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},t=parseInt(i.offset)||0,r=i.callback?i.callback:!1,u,f;if(typeof n=="string"){if(n==="top")n=this.html;else if(n==="bottom")n=this.html.offsetHeight-window.innerHeight;else if(n=document.querySelector(n),!n)return}else if(typeof n=="number")n=parseInt(n);else if(!n||!n.tagName){console.warn("`target` parameter is not valid");return}if(t=typeof n!="number"?n.getBoundingClientRect().top+t+this.instance.scroll.y:n+t,u=function(){return parseInt(window.pageYOffset)===parseInt(t)},r){if(u()){r();return}f=function f(){u()&&(window.removeEventListener("scroll",f),r())};window.addEventListener("scroll",f)}window.scrollTo({top:t,behavior:i.duration===0?"auto":"smooth"})}},{key:"update",value:function(){this.addElements();this.detectElements()}},{key:"destroy",value:function(){u(r(t.prototype),"destroy",this).call(this);window.removeEventListener("scroll",this.checkScroll,!1)}}]),t}(ft),ht;
/*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  */
var st=Object.getOwnPropertySymbols,oi=Object.prototype.hasOwnProperty,si=Object.prototype.propertyIsEnumerable;ht=ci()?Object.assign:function(n){for(var u,i,t,f=hi(n),r,e=1;e<arguments.length;e++){t=Object(arguments[e]);for(u in t)oi.call(t,u)&&(f[u]=t[u]);if(st)for(r=st(t),i=0;i<r.length;i++)si.call(t,r[i])&&(f[r[i]]=t[r[i]])}return f};ct.prototype={on:function(n,t,i){var r=this.e||(this.e={});return(r[n]||(r[n]=[])).push({fn:t,ctx:i}),this},once:function(n,t,i){function r(){u.off(n,r);t.apply(i,arguments)}var u=this;r._=t;return this.on(n,r,i)},emit:function(n){var r=[].slice.call(arguments,1),i=((this.e||(this.e={}))[n]||[]).slice(),t=0,u=i.length;for(t;t<u;t++)i[t].fn.apply(i[t].ctx,r);return this},off:function(n,t){var u=this.e||(this.e={}),r=u[n],f=[],i,e;if(r&&t)for(i=0,e=r.length;i<e;i++)r[i].fn!==t&&r[i].fn._!==t&&f.push(r[i]);return f.length?u[n]=f:delete u[n],this}};var li=ct,ai=et(function(n,t){(function(){var n;n=t!==null?t:this;n.Lethargy=function(){function n(n,t,i,r){this.stability=n!=null?Math.abs(n):8;this.sensitivity=t!=null?1+Math.abs(t):100;this.tolerance=i!=null?1+Math.abs(i):1.1;this.delay=r!=null?r:150;this.lastUpDeltas=function(){var n,t,i;for(i=[],n=1,t=this.stability*2;1<=t?n<=t:n>=t;1<=t?n++:n--)i.push(null);return i}.call(this);this.lastDownDeltas=function(){var n,t,i;for(i=[],n=1,t=this.stability*2;1<=t?n<=t:n>=t;1<=t?n++:n--)i.push(null);return i}.call(this);this.deltasTimestamp=function(){var n,t,i;for(i=[],n=1,t=this.stability*2;1<=t?n<=t:n>=t;1<=t?n++:n--)i.push(null);return i}.call(this)}return n.prototype.check=function(n){var t;return n=n.originalEvent||n,n.wheelDelta!=null?t=n.wheelDelta:n.deltaY!=null?t=n.deltaY*-40:(n.detail!=null||n.detail===0)&&(t=n.detail*-40),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),t>0?(this.lastUpDeltas.push(t),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(t),this.lastDownDeltas.shift(),this.isInertia(-1))},n.prototype.isInertia=function(n){var t,i,r,u,f,e,o;return(t=n===-1?this.lastDownDeltas:this.lastUpDeltas,t[0]===null)?n:this.deltasTimestamp[this.stability*2-2]+this.delay>Date.now()&&t[0]===t[this.stability*2-1]?!1:(r=t.slice(0,this.stability),i=t.slice(this.stability,this.stability*2),o=r.reduce(function(n,t){return n+t}),f=i.reduce(function(n,t){return n+t}),e=o/r.length,u=f/i.length,Math.abs(e)<Math.abs(u*this.tolerance)&&this.sensitivity<Math.abs(u)?n:!1)},n.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},n.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},n}()}).call(fi)}),n=function(){return{hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1}}(),vi=Object.prototype.toString,yi=Object.prototype.hasOwnProperty,pi=function(n){var t,i,r,u;if(!n)return console.warn("bindAll requires at least one argument.");if(t=Array.prototype.slice.call(arguments,1),t.length===0)for(i in n)yi.call(n,i)&&typeof n[i]=="function"&&vi.call(n[i])=="[object Function]"&&t.push(i);for(r=0;r<t.length;r++)u=t[r],n[u]=wi(n[u],n)};var bi=ai.Lethargy,e="virtualscroll",ki=t,h={LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32};t.prototype._notify=function(n){var t=this._event;t.x+=t.deltaX;t.y+=t.deltaY;this._emitter.emit(e,{x:t.x,y:t.y,deltaX:t.deltaX,deltaY:t.deltaY,originalEvent:n})};t.prototype._onWheel=function(t){var r=this.options,i;this._lethargy&&this._lethargy.check(t)===!1||(i=this._event,i.deltaX=t.wheelDeltaX||t.deltaX*-1,i.deltaY=t.wheelDeltaY||t.deltaY*-1,n.isFirefox&&t.deltaMode==1&&(i.deltaX*=r.firefoxMultiplier,i.deltaY*=r.firefoxMultiplier),i.deltaX*=r.mouseMultiplier,i.deltaY*=r.mouseMultiplier,this._notify(t))};t.prototype._onMouseWheel=function(n){if(!this.options.limitInertia||this._lethargy.check(n)!==!1){var t=this._event;t.deltaX=n.wheelDeltaX?n.wheelDeltaX:0;t.deltaY=n.wheelDeltaY?n.wheelDeltaY:n.wheelDelta;this._notify(n)}};t.prototype._onTouchStart=function(n){var t=n.targetTouches?n.targetTouches[0]:n;this.touchStartX=t.pageX;this.touchStartY=t.pageY};t.prototype._onTouchMove=function(n){var i=this.options,r,t;i.preventTouch&&!n.target.classList.contains(i.unpreventTouchClass)&&n.preventDefault();r=this._event;t=n.targetTouches?n.targetTouches[0]:n;r.deltaX=(t.pageX-this.touchStartX)*i.touchMultiplier;r.deltaY=(t.pageY-this.touchStartY)*i.touchMultiplier;this.touchStartX=t.pageX;this.touchStartY=t.pageY;this._notify(n)};t.prototype._onKeyDown=function(n){var t=this._event,i;t.deltaX=t.deltaY=0;i=window.innerHeight-40;switch(n.keyCode){case h.LEFT:case h.UP:t.deltaY=this.options.keyStep;break;case h.RIGHT:case h.DOWN:t.deltaY=-this.options.keyStep;break;case n.shiftKey:t.deltaY=i;break;case h.SPACE:t.deltaY=-i;break;default:return}this._notify(n)};t.prototype._bind=function(){n.hasWheelEvent&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions);n.hasMouseWheelEvent&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions);n.hasTouch&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions));n.hasPointer&&n.hasTouchWin&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0));n.hasKeyDown&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)};t.prototype._unbind=function(){n.hasWheelEvent&&this.el.removeEventListener("wheel",this._onWheel);n.hasMouseWheelEvent&&this.el.removeEventListener("mousewheel",this._onMouseWheel);n.hasTouch&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove));n.hasPointer&&n.hasTouchWin&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0));n.hasKeyDown&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)};t.prototype.on=function(n,t){this._emitter.on(e,n,t);var i=this._emitter.e;i&&i[e]&&i[e].length===1&&this._bind()};t.prototype.off=function(n,t){this._emitter.off(e,n,t);var i=this._emitter.e;(!i[e]||i[e].length<=0)&&this._unbind()};t.prototype.reset=function(){var n=this._event;n.x=0;n.y=0};t.prototype.destroy=function(){this._emitter.off();this._unbind()};var di=4,gi=.001,nr=1e-7,tr=10,c=11,v=1/(c-1),ir=typeof Float32Array=="function";var er=function(n,t,i,r){function e(t){for(var f=0,r=1,s=c-1;r!==s&&u[r]<=t;++r)f+=v;--r;var h=(t-u[r])/(u[r+1]-u[r]),e=f+h*v,o=yt(e,n,i);return o>=gi?ur(t,e,n,i):o===0?e:rr(t,f,f+v,n,i)}var u,f;if(!(0<=n&&n<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(n===t&&i===r)return fr;for(u=ir?new Float32Array(c):new Array(c),f=0;f<c;++f)u[f]=y(f*v,n,i);return function(n){return n===0?0:n===1?1:y(e(n),t,r)}},f={LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32,TAB:9,PAGEUP:33,PAGEDOWN:34,HOME:36,END:35},or=function(n){function t(){var n,i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return l(this,t),history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0),n=e.call(this,i),n.inertia&&(n.lerp=n.inertia*.1),n.isScrolling=!1,n.isDraggingScrollbar=!1,n.isTicking=!1,n.hasScrollTicking=!1,n.parallaxElements={},n.stop=!1,n.scrollbarContainer=i.scrollbarContainer,n.checkKey=n.checkKey.bind(it(n)),window.addEventListener("keydown",n.checkKey,!1),n}tt(t,n);var e=rt(t);return a(t,[{key:"init",value:function(){var n=this;this.html.classList.add(this.smoothClass);this.html.setAttribute("data-".concat(this.name,"-direction"),this.direction);this.instance=p({delta:{x:this.initPosition.x,y:this.initPosition.y},scroll:{x:this.initPosition.x,y:this.initPosition.y}},this.instance);this.vs=new ki({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:navigator.platform.indexOf("Win")>-1?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0});this.vs.on(function(t){n.stop||n.isDraggingScrollbar||requestAnimationFrame(function(){n.updateDelta(t);n.isScrolling||n.startScrolling()})});this.setScrollLimit();this.initScrollBar();this.addSections();this.addElements();this.checkScroll(!0);this.transformElements(!0,!0);u(r(t.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function(){var t,i,n;if(this.instance.limit.y=this.el.offsetHeight-this.windowHeight,this.direction==="horizontal"){for(t=0,i=this.el.children,n=0;n<i.length;n++)t+=i[n].offsetWidth;this.instance.limit.x=t-this.windowWidth}}},{key:"startScrolling",value:function(){this.startScrollTs=Date.now();this.isScrolling=!0;this.checkScroll();this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function(){cancelAnimationFrame(this.checkScrollRaf);this.startScrollTs=undefined;this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null);this.isScrolling=!1;this.instance.scroll.y=Math.round(this.instance.scroll.y);this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function(n){var t=this;if(this.stop){n.keyCode==f.TAB&&requestAnimationFrame(function(){t.html.scrollTop=0;document.body.scrollTop=0;t.html.scrollLeft=0;document.body.scrollLeft=0});return}switch(n.keyCode){case f.TAB:requestAnimationFrame(function(){t.html.scrollTop=0;document.body.scrollTop=0;t.html.scrollLeft=0;document.body.scrollLeft=0;t.scrollTo(document.activeElement,{offset:-window.innerHeight/2})});break;case f.UP:this.isActiveElementScrollSensitive()&&(this.instance.delta[this.directionAxis]-=240);break;case f.DOWN:this.isActiveElementScrollSensitive()&&(this.instance.delta[this.directionAxis]+=240);break;case f.PAGEUP:this.instance.delta[this.directionAxis]-=window.innerHeight;break;case f.PAGEDOWN:this.instance.delta[this.directionAxis]+=window.innerHeight;break;case f.HOME:this.instance.delta[this.directionAxis]-=this.instance.limit[this.directionAxis];break;case f.END:this.instance.delta[this.directionAxis]+=this.instance.limit[this.directionAxis];break;case f.SPACE:this.isActiveElementScrollSensitive()&&(n.shiftKey?this.instance.delta[this.directionAxis]-=window.innerHeight:this.instance.delta[this.directionAxis]+=window.innerHeight);break;default:return}this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0);this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis]);this.stopScrolling();this.isScrolling=!0;this.checkScroll();this.html.classList.add(this.scrollingClass)}},{key:"isActiveElementScrollSensitive",value:function(){return!(document.activeElement instanceof HTMLInputElement)&&!(document.activeElement instanceof HTMLTextAreaElement)&&!(document.activeElement instanceof HTMLButtonElement)&&!(document.activeElement instanceof HTMLSelectElement)}},{key:"checkScroll",value:function(){var n=this,e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1,i,s,f;(e||this.isScrolling||this.isDraggingScrollbar)&&(this.hasScrollTicking||(this.checkScrollRaf=requestAnimationFrame(function(){return n.checkScroll()}),this.hasScrollTicking=!0),this.updateScroll(),i=Math.abs(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis]),s=Date.now()-this.startScrollTs,!this.animatingScroll&&s>100&&(i<.5&&this.instance.delta[this.directionAxis]!=0||i<.5&&this.instance.delta[this.directionAxis]==0)&&this.stopScrolling(),Object.entries(this.sections).forEach(function(t){var r=o(t,2),u=r[0],i=r[1];i.persistent||n.instance.scroll[n.directionAxis]>i.offset[n.directionAxis]&&n.instance.scroll[n.directionAxis]<i.limit[n.directionAxis]?(n.direction==="horizontal"?n.transform(i.el,-n.instance.scroll[n.directionAxis],0):n.transform(i.el,0,-n.instance.scroll[n.directionAxis]),i.inView||(i.inView=!0,i.el.style.opacity=1,i.el.style.pointerEvents="all",i.el.setAttribute("data-".concat(n.name,"-section-inview"),""))):((i.inView||e)&&(i.inView=!1,i.el.style.opacity=0,i.el.style.pointerEvents="none",i.el.removeAttribute("data-".concat(n.name,"-section-inview"))),n.transform(i.el,0,0))}),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.detectElements(),this.transformElements(),this.hasScrollbar&&(f=this.instance.scroll[this.directionAxis]/this.instance.limit[this.directionAxis]*this.scrollBarLimit[this.directionAxis],this.direction==="horizontal"?this.transform(this.scrollbarThumb,f,0):this.transform(this.scrollbarThumb,0,f)),u(r(t.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1)}},{key:"resize",value:function(){this.windowHeight=window.innerHeight;this.windowWidth=window.innerWidth;this.checkContext();this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2};this.update()}},{key:"updateDelta",value:function(n){var i,t=this[this.context]&&this[this.context].gestureDirection?this[this.context].gestureDirection:this.gestureDirection;i=t==="both"?n.deltaX+n.deltaY:t==="vertical"?n.deltaY:t==="horizontal"?n.deltaX:n.deltaY;this.instance.delta[this.directionAxis]-=i*this.multiplier;this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0);this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis])}},{key:"updateScroll",value:function(){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll[this.directionAxis]=k(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis],this.lerp):this.instance.scroll[this.directionAxis]>this.instance.limit[this.directionAxis]?this.setScroll(this.instance.scroll[this.directionAxis],this.instance.limit[this.directionAxis]):this.instance.scroll.y<0?this.setScroll(this.instance.scroll[this.directionAxis],0):this.setScroll(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis])}},{key:"addDirection",value:function(){this.instance.delta.y>this.instance.scroll.y?this.instance.direction!=="down"&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&this.instance.direction!=="up"&&(this.instance.direction="up");this.instance.delta.x>this.instance.scroll.x?this.instance.direction!=="right"&&(this.instance.direction="right"):this.instance.delta.x<this.instance.scroll.x&&this.instance.direction!=="left"&&(this.instance.direction="left")}},{key:"addSpeed",value:function(){this.instance.speed=this.instance.delta[this.directionAxis]!=this.instance.scroll[this.directionAxis]?(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis])/Math.max(1,Date.now()-this.speedTs):0}},{key:"initScrollBar",value:function(){if(this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),this.scrollbarContainer?this.scrollbarContainer.append(this.scrollbar):document.body.append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar),this.hasScrollbar=!1,this.direction=="horizontal"){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0;this.scrollbarBCR=this.scrollbar.getBoundingClientRect();this.scrollbarHeight=this.scrollbarBCR.height;this.scrollbarWidth=this.scrollbarBCR.width;this.direction==="horizontal"?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px");this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect();this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"reinitScrollBar",value:function(){if(this.hasScrollbar=!1,this.direction=="horizontal"){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0;this.scrollbarBCR=this.scrollbar.getBoundingClientRect();this.scrollbarHeight=this.scrollbarBCR.height;this.scrollbarWidth=this.scrollbarBCR.width;this.direction==="horizontal"?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px");this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect();this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"destroyScrollBar",value:function(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar);window.removeEventListener("mouseup",this.releaseScrollBar);window.removeEventListener("mousemove",this.moveScrollBar);this.scrollbar.remove()}},{key:"getScrollBar",value:function(){this.isDraggingScrollbar=!0;this.checkScroll();this.html.classList.remove(this.scrollingClass);this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function(){this.isDraggingScrollbar=!1;this.isScrolling&&this.html.classList.add(this.scrollingClass);this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function(n){var t=this;this.isDraggingScrollbar&&requestAnimationFrame(function(){var i=(n.clientX-t.scrollbarBCR.left)*100/t.scrollbarWidth*t.instance.limit.x/100,r=(n.clientY-t.scrollbarBCR.top)*100/t.scrollbarHeight*t.instance.limit.y/100;r>0&&r<t.instance.limit.y&&(t.instance.delta.y=r);i>0&&i<t.instance.limit.x&&(t.instance.delta.x=i)})}},{key:"addElements",value:function(){var n=this,t;this.els={};this.parallaxElements={};t=this.el.querySelectorAll("[data-".concat(this.name,"]"));t.forEach(function(t,r){var ot=d(t),y=Object.entries(n.sections).map(function(n){var t=o(n,2),i=t[0];return t[1]}).find(function(n){return ot.includes(n.el)}),g=t.dataset[n.name+"Class"]||n["class"],p=typeof t.dataset[n.name+"Id"]=="string"?t.dataset[n.name+"Id"]:"el"+r,e,s,w=t.dataset[n.name+"Repeat"],st=t.dataset[n.name+"Call"],ht=t.dataset[n.name+"Position"],ct=t.dataset[n.name+"Delay"],lt=t.dataset[n.name+"Direction"],b=typeof t.dataset[n.name+"Sticky"]=="string",nt=t.dataset[n.name+"Speed"]?parseFloat(t.dataset[n.name+"Speed"])/10:!1,f=typeof t.dataset[n.name+"Offset"]=="string"?t.dataset[n.name+"Offset"].split(","):n.offset,tt=t.dataset[n.name+"Target"],h,c,l,u,k;h=tt!==undefined?document.querySelector("".concat(tt)):t;c=h.getBoundingClientRect();y===null?(e=c.top+n.instance.scroll.y-i(h).y,s=c.left+n.instance.scroll.x-i(h).x):y.inView?(e=c.top+n.instance.scroll.y-i(h).y,s=c.left+n.instance.scroll.x-i(h).x):(e=c.top-i(y.el).y-i(h).y,s=c.left-i(y.el).x-i(h).x);var a=e+h.offsetHeight,v=s+h.offsetWidth,it={x:(v-s)/2+s,y:(a-e)/2+e};if(b){var rt=t.getBoundingClientRect(),ut=rt.top,ft=rt.left,et={x:ft-s,y:ut-e};e+=window.innerHeight;s+=window.innerWidth;a=ut+h.offsetHeight-t.offsetHeight-et[n.directionAxis];v=ft+h.offsetWidth-t.offsetWidth-et[n.directionAxis];it={x:(v-s)/2+s,y:(a-e)/2+e}}if(w=w=="false"?!1:w!=undefined?!0:n.repeat,l=[0,0],f)if(n.direction==="horizontal"){for(u=0;u<f.length;u++)l[u]=typeof f[u]=="string"?f[u].includes("%")?parseInt(f[u].replace("%","")*n.windowWidth/100):parseInt(f[u]):f[u];s=s+l[0];v=v-l[1]}else{for(u=0;u<f.length;u++)l[u]=typeof f[u]=="string"?f[u].includes("%")?parseInt(f[u].replace("%","")*n.windowHeight/100):parseInt(f[u]):f[u];e=e+l[0];a=a-l[1]}k={el:t,id:p,"class":g,section:y,top:e,middle:it,bottom:a,left:s,right:v,offset:f,progress:0,repeat:w,inView:!1,call:st,speed:nt,delay:ct,position:ht,target:h,direction:lt,sticky:b};n.els[p]=k;t.classList.contains(g)&&n.setInView(n.els[p],p);(nt!==!1||b)&&(n.parallaxElements[p]=k)})}},{key:"addSections",value:function(){var n=this,t;this.sections={};t=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));t.length===0&&(t=[this.el]);t.forEach(function(t,r){var f=typeof t.dataset[n.name+"Id"]=="string"?t.dataset[n.name+"Id"]:"section"+r,u=t.getBoundingClientRect(),e={x:u.left-window.innerWidth*1.5-i(t).x,y:u.top-window.innerHeight*1.5-i(t).y},s={x:e.x+u.width+window.innerWidth*2,y:e.y+u.height+window.innerHeight*2},h=typeof t.dataset[n.name+"Persistent"]=="string",o;t.setAttribute("data-scroll-section-id",f);o={el:t,offset:e,limit:s,inView:!1,persistent:h,id:f};n.sections[f]=o})}},{key:"transform",value:function(n,t,r,u){var f;if(u){var e=i(n),o=k(e.x,t,u),s=k(e.y,r,u);f="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(o,",").concat(s,",0,1)")}else f="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(t,",").concat(r,",0,1)");n.style.webkitTransform=f;n.style.msTransform=f;n.style.transform=f}},{key:"transformElements",value:function(n){var t=this,u=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1,i=this.instance.scroll.x+this.windowWidth,r=this.instance.scroll.y+this.windowHeight,f={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach(function(e){var c=o(e,2),l=c[0],s=c[1],h=!1;if(n&&(h=0),s.inView||u)switch(s.position){case"top":h=t.instance.scroll[t.directionAxis]*-s.speed;break;case"elementTop":h=(r-s.top)*-s.speed;break;case"bottom":h=(t.instance.limit[t.directionAxis]-r+t.windowHeight)*s.speed;break;case"left":h=t.instance.scroll[t.directionAxis]*-s.speed;break;case"elementLeft":h=(i-s.left)*-s.speed;break;case"right":h=(t.instance.limit[t.directionAxis]-i+t.windowHeight)*s.speed;break;default:h=(f[t.directionAxis]-s.middle[t.directionAxis])*-s.speed}s.sticky&&(h=s.inView?t.direction==="horizontal"?t.instance.scroll.x-s.left+window.innerWidth:t.instance.scroll.y-s.top+window.innerHeight:t.direction==="horizontal"?t.instance.scroll.x<s.left-window.innerWidth&&t.instance.scroll.x<s.left-window.innerWidth/2?0:t.instance.scroll.x>s.right&&t.instance.scroll.x>s.right+100?s.right-s.left+window.innerWidth:!1:t.instance.scroll.y<s.top-window.innerHeight&&t.instance.scroll.y<s.top-window.innerHeight/2?0:t.instance.scroll.y>s.bottom&&t.instance.scroll.y>s.bottom+100?s.bottom-s.top+window.innerHeight:!1);h!==!1&&(s.direction==="horizontal"||t.direction==="horizontal"&&s.direction!=="vertical"?t.transform(s.el,h,0,n?!1:s.delay):t.transform(s.el,0,h,n?!1:s.delay))})}},{key:"scrollTo",value:function(n){var t=this,r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},u=parseInt(r.offset)||0,l=isNaN(parseInt(r.duration))?1e3:parseInt(r.duration),e=r.easing||[.25,0,.35,1],k=r.disableLerp?!0:!1,a=r.callback?r.callback:!1,v,b,c;if(e=er.apply(void 0,dt(e)),typeof n=="string"){if(n==="top")n=0;else if(n==="bottom")n=this.instance.limit.y;else if(n==="left")n=0;else if(n==="right")n=this.instance.limit.x;else if(n=document.querySelector(n),!n)return}else if(typeof n=="number")n=parseInt(n);else if(!n||!n.tagName){console.warn("`target` parameter is not valid");return}if(typeof n!="number"){if(v=d(n).includes(this.el),!v)return;var y=n.getBoundingClientRect(),g=y.top,nt=y.left,tt=d(n),p=tt.find(function(n){return Object.entries(t.sections).map(function(n){var t=o(n,2),i=t[0];return t[1]}).find(function(t){return t.el==n})}),s=0;s=p?i(p)[this.directionAxis]:-this.instance.scroll[this.directionAxis];u=this.direction==="horizontal"?nt+u-s:g+u-s}else u=n+u;var f=parseFloat(this.instance.delta[this.directionAxis]),it=Math.max(0,Math.min(u,this.instance.limit[this.directionAxis])),h=it-f,w=function(n){k?t.direction==="horizontal"?t.setScroll(f+h*n,t.instance.delta.y):t.setScroll(t.instance.delta.x,f+h*n):t.instance.delta[t.directionAxis]=f+h*n};this.animatingScroll=!0;this.stopScrolling();this.startScrolling();b=Date.now();c=function c(){var n=(Date.now()-b)/l;n>1?(w(1),t.animatingScroll=!1,l==0&&t.update(),a&&a()):(t.scrollToRaf=requestAnimationFrame(c),w(e(n)))};c()}},{key:"update",value:function(){this.setScrollLimit();this.addSections();this.addElements();this.detectElements();this.updateScroll();this.transformElements(!0);this.reinitScrollBar();this.checkScroll(!0)}},{key:"startScroll",value:function(){this.stop=!1}},{key:"stopScroll",value:function(){this.stop=!0}},{key:"setScroll",value:function(n,t){this.instance=p(p({},this.instance),{},{scroll:{x:n,y:t},delta:{x:n,y:t},speed:0})}},{key:"destroy",value:function(){u(r(t.prototype),"destroy",this).call(this);this.stopScrolling();this.html.classList.remove(this.smoothClass);this.vs.destroy();this.destroyScrollBar();window.removeEventListener("keydown",this.checkKey,!1)}}]),t}(ft);return function(){function n(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};l(this,n);this.options=t;Object.assign(this,s,t);this.smartphone=s.smartphone;t.smartphone&&Object.assign(this.smartphone,t.smartphone);this.tablet=s.tablet;t.tablet&&Object.assign(this.tablet,t.tablet);this.smooth||this.direction!="horizontal"||console.warn("ðŸš¨ `smooth:false` & `horizontal` direction are not yet compatible");this.tablet.smooth||this.tablet.direction!="horizontal"||console.warn("ðŸš¨ `smooth:false` & `horizontal` direction are not yet compatible (tablet)");this.smartphone.smooth||this.smartphone.direction!="horizontal"||console.warn("ðŸš¨ `smooth:false` & `horizontal` direction are not yet compatible (smartphone)");this.init()}return a(n,[{key:"init",value:function(){if(this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.scroll=this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?new or(this.options):new ei(this.options),this.scroll.init(),window.location.hash){var t=window.location.hash.slice(1,window.location.hash.length),n=document.getElementById(t);n&&this.scroll.scrollTo(n)}}},{key:"update",value:function(){this.scroll.update()}},{key:"start",value:function(){this.scroll.startScroll()}},{key:"stop",value:function(){this.scroll.stopScroll()}},{key:"scrollTo",value:function(n,t){this.scroll.scrollTo(n,t)}},{key:"setScroll",value:function(n,t){this.scroll.setScroll(n,t)}},{key:"on",value:function(n,t){this.scroll.setEvents(n,t)}},{key:"off",value:function(n,t){this.scroll.unsetEvents(n,t)}},{key:"destroy",value:function(){this.scroll.destroy()}}]),n}()});