function IniciarCombosHomeNovedadPersonalizada(){return new Combo({name:"AreaPractica",view:frmNovedadPersonalizada,actionController:"/AreaPractica/LlenarAreasPracticas/"}).createBasicCombo(),new Combo({name:"Autor",view:frmNovedadPersonalizada,actionController:"/Profesional/LlenarProfesionales/"}).createBasicCombo(),!1}function FiltrosBusquedaNovedadPersonalizada(){$("#filtrosBusquedaNovedadPersonalizada").hasClass("shown")?($("#filtrosBusquedaNovedadPersonalizada").slideUp(400),$("#filtrosBusquedaNovedadPersonalizada").removeClass("shown"),$("span",$(".desplegableFiltros")).removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down")):($("#filtrosBusquedaNovedadPersonalizada").slideDown(400),$("#filtrosBusquedaNovedadPersonalizada").addClass("shown"),$("span",$(".desplegableFiltros")).removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up"))}function ModalNovedadPersonalizada(n){$("#dialog").load("/NovedadPersonalizada/ModalNovedadPersonalizada",{idNovedadPersonalizada:n},function(n,t){t=="success"?$("#dialog").modal("show"):CargarAlertas(frmNovedadPersonalizada)})}function LimpiarFormBusquedaNovedadPersonalizada(){$("#hAreaPractica"+frmNovedadPersonalizada).val("");$("#hAutor"+frmNovedadPersonalizada).val("");$("#ddlAreaPractica"+frmNovedadPersonalizada)[0].selectize.clear();$("#ddlAutor"+frmNovedadPersonalizada)[0].selectize.clear();$("#busqueda_Texto").val("");$("#busqueda_FechaDesde").val("");$("#busqueda_FechaHasta").val("")}function BuscarNovedadPersonalizada(){$("#BusquedaNovedadPersonalizadaForm").valid()&&ReloadTable("TablaNovedadPersonalizada")}function IniciarTablaNovedadPersonalizada(){$.fn.dataTable.ext.errMode="none";$("#TablaNovedadPersonalizada").on("error.dt",function(){CargarAlertas(frmNovedadPersonalizada)});var n=$("#TablaNovedadPersonalizada").dataTable({dom:"Blfrtip",buttons:[{text:'<span class="iconoExcel" aria-hidden="true" title="Exportar a Excel"><\/span>',className:"btn btn-default btn-sm btn-imagen space1",action:function(){ExportarExcelCompletoNovedadPersonalizadas()}},],order:[[2,"desc"]],columnDefs:[{type:"fecha",targets:2}],sAjaxSource:"/NovedadPersonalizada/LlenarJSONGrillaNovedadPersonalizada",sServerMethod:"POST",aoColumns:[{data:"title_es",sWidth:"25%"},{data:"header_es",sWidth:"25%"},{data:"date",sWidth:"15%",render:function(n,t,i){return i.date||""}},{data:"link_es",sWidth:"25%"},{data:"id",sWidth:"10%",sClass:"der",orderable:!1,sWidth:"10%",render:function(n,t,i){return BotoneraGrillaNovedadPersonalizada(i)}}],bAutoWidth:!1,bProcessing:!0,pageLength:50,language:{select:{rows:". %d filas seleccionadas"}},fnDrawCallback:function(){FuncionesBotoneraGrillaNovedadPersonalizada()},fnServerData:function(n,t,i){$.ajax({dataType:"json",type:"POST",url:n,data:$("#BusquedaNovedadPersonalizadaForm").serialize(),success:i})}})}function ExportarExcelCompletoNovedadPersonalizadas(){$("#TablaNovedadPersonalizada td.dataTables_empty").length==0?$.post("/NovedadPersonalizada/GenerarExcelCompletoNovedadPersonalizadas",$("#BusquedaNovedadPersonalizadaForm").serialize()).success(function(n){n.IsEverythingGood==!0&&(window.location="/NovedadPersonalizada/ExportarExcelCompleto?token="+n.Token)}).always(function(){CargarAlertas(frmNovedadPersonalizada)}):Danger("Debe haber, por lo menos, 1 registro en la grilla.")}function BotoneraGrillaNovedadPersonalizada(n){var t="";return t+=n.visible==1?'        <button type="button" class="habilitadoDialog btn btn-success btn-xs" data-clientid="'+n.id+'" title="Habilitado" value="0">             <span class="glyphicon glyphicon-off" aria-hidden="true"><\/span>         <\/button>':'        <button type="button" class="habilitadoDialog btn btn-danger btn-xs" data-clientid="'+n.id+'" title="DesHabilitado" value="1">             <span class="glyphicon glyphicon-off" aria-hidden="true"><\/span>         <\/button>',t+('        <button type="button" class="editDialog btn btn-default btn-xs" data-clientid="'+n.id+'" title="Editar">             <span class="glyphicon glyphicon-edit" aria-hidden="true"><\/span>         <\/button>         <button type="button" id="mat_'+n.id+'" class="btn btn-default btn-xs" data-toggle="confirmation" data-placement="left" data-singleton="true" data-on-confirm="EliminarNovedadPersonalizada" data-title="¿Está seguro?" onclick="SelNovedadPersonalizada('+n.id+');">             <span class="glyphicon glyphicon-remove" aria-hidden="true">             <\/span>         <\/button>')}function EliminarNovedadPersonalizada(){var n=$("#hIdNovedadPersonalizada").val();$.post("/NovedadPersonalizada/EliminarNovedadPersonalizada",{idNovedadPersonalizada:n}).success(function(n){n.IsEverythingGood==!0?ReloadTable("TablaNovedadPersonalizada",!1):n.IsRedirect&&(window.location.href="/Home/Login")}).always(function(){CargarAlertas(frmNovedadPersonalizada)})}function SelNovedadPersonalizada(n){$("#hIdNovedadPersonalizada").val(n)}function FuncionesBotoneraGrillaNovedadPersonalizada(){$("[data-toggle=confirmation]").confirmation();$(".dt-button").removeClass("dt-button");$(".dt-buttons").addClass("space1");$(".editDialog").off().on("click",function(){ModalNovedadPersonalizada($(this).data("clientid"),function(){IniciarCombosModalNovedadPersonalizada(JSON.parse("["+$("#hAreasPracticas"+frmModal).val()+"]"),JSON.parse("["+$("#hAutores"+frmModal).val()+"]"));$("#novedadPersonalizada_colorFuente").val()!=""?SetColorByHidden():SetColorByInput()})});$(".habilitadoDialog").off().on("click",function(){var n=$(this),i=n.data("clientid"),t=n.attr("value");return $.post("/NovedadPersonalizada/HabilitarNovedadPersonalizada/",{idNovedadPersonalizada:i,habilitado:t}).success(function(i){i.IsEverythingGood==!0&&(t==1?(n.attr("value",0),n.removeClass("btn-danger"),n.addClass("btn-success")):(n.attr("value",1),n.removeClass("btn-success"),n.addClass("btn-danger")))}).always(function(){CargarAlertas(frmNovedadPersonalizada)}),!1})}function AltaNovedadPersonalizada(){ModalNovedadPersonalizada(null,function(){IniciarCombosModalNovedadPersonalizada();SetColorByInput()})}function ModalNovedadPersonalizada(n,t){$("#dialog").load("/NovedadPersonalizada/ModalNovedadPersonalizada",{idNovedadPersonalizada:n},function(n,i){i=="success"?($("#dialog").modal("show"),t&&t()):CargarAlertas(frmNovedadPersonalizada)})}function SetColorByInput(){$("#novedadPersonalizada_colorFuente").val($("#inputColor").val())}function SetColorByHidden(){$("#inputColor").val($("#novedadPersonalizada_colorFuente").val())}var frmNovedadPersonalizada="NovedadPersonalizada",frmModal="Modal",frmHome="Home",frmCombo="Combo";