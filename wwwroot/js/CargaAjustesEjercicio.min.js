function sumByType(n){var t,i,r;t=0;i=n.dataset.type;n.value==""&&$("#"+n.id).val("0");$("[data-type='"+i+"'][id^= 'Ajuste_']").each(function(n,i){var r=$("#"+i.id).val();r==""&&(r=0);t=t+parseInt(r)});i=="Socio"?($("#Importe_TotalAjustes_Socios").attr("data-val",t),$("#Importe_TotalAjustes_Socios").text("$ "+t.toLocaleString())):($("#Importe_TotalAjustes_ExSocios").attr("data-val",t),$("#Importe_TotalAjustes_ExSocios").text("$ "+t.toLocaleString()));r=parseInt($("#Importe_TotalAjustes_Socios").attr("data-val"))+parseInt($("#Importe_TotalAjustes_ExSocios").attr("data-val"));$("#SumaAjustes").text("$ "+r.toLocaleString())}function ObjPersona(){return{IdPersona:null,Ajuste:null,Observacion:null}}function GetDataAjustes(){var n=[];return $("#AjustesEjercicioTable [id^= 'Ajuste_']").each(function(t,i){var r=ObjPersona();r.IdPersona=i.dataset.id;r.Ajuste=$("#"+i.id).val();r.Observaciones=$("#Observacion_"+i.dataset.id).val();n.push(r)}),n}function guardarAjustesEjercicio(){var n={AjustesSocios:GetDataAjustes(),Modo:$("#Modo").val(),IdAjuste:$("#IdAjuste").val()};checkObservaciones(n.AjustesSocios)?$.post("/Finanzas/GuardarAjustesEjericicio",{data:n}).done(function(n){n.isEverythingGood==!0&&CargarMenu()}).always(function(){CargarAlertas(frmHome)}):Danger("Corrobore que las observaciones esten cargadas las mismas tienen un máx de 500 caracteres.")}function checkObservaciones(n){for(var i=!0,t=0;t<n.length;t++)if(n[t].Ajuste!="0"&&n[t].Observaciones==""||n[t].Observaciones.length>500)return!1;return i}function ModalRechazarImpuestosReales(){$("#dialog").load("/Finanzas/ModalRechazarImpuestosReales",function(n,t){t=="success"?$("#dialog").modal("show"):CargarAlertas(frmHome)})}function RechazarImpuestosReales(){var n=$("#notaRevision").val();n!=""?n.length<=500?$.post("/Finanzas/RechazarImpuestosReales",{NotaRevision:n}).done(function(n){n.isEverythingGood==!0&&($("#dialog").modal("hide"),CargarMenu())}).always(function(){CargarAlertas(frmHome)}):Danger("La nota de revisión puede contener hasta 500 caracteres."):Danger("Para rechazar los impuestos reales del ejercicio, es obligatorio que cargue una nota de revisión.")}