function AltaPodcast(){$("#dialog").load("/Podcast/ModalPodcast",function(n,t){t=="success"?($("#hModo").attr("value","Alta"),$("#dialog").modal("show")):CargarAlertas(frmPodcast)})}function EditarPodcast(n){$("#dialog").load("/Podcast/ModalPodcast",{idPodcast:n},function(n,t){t=="success"?($("#dialog").modal("show"),$("#hModo").attr("value","Edit")):CargarAlertas(frmPodcast)})}function CambiarColorBtnHabilitar(n){return n.hasClass("btn-success")?(n.removeClass("btn-success"),n.addClass("btn-danger"),!1):(n.removeClass("btn-danger"),n.addClass("btn-success"),!0)}function IniciarTablaEpisodios(n){$.fn.dataTable.ext.errMode="none";$("#TablaEpisodio"+n).on("error.dt",function(){CargarAlertas(frmPodcast)});$("#TablaEpisodio"+n).dataTable({bProcessing:!0,sAjaxSource:"/Podcast/ObtenerEpisodios?idPodcast="+n,aoColumns:[{data:"Numero",sWidth:"10%",sClass:"columna"},{data:"Titulo_es",sWidth:"70%",sClass:"columna"},{data:"Id",sWidth:"20%",sClass:"der",render:function(n,t,i){return BotoneraGrillaEpisodio(i)}}],order:[[0,"asc"]],bAutoWidth:!1,paging:!1,searching:!1,fnDrawCallback:function(){FuncionesBotoneraEpisodios(n)}})}function FuncionesBotoneraEpisodios(n){$(".editEpisodio").on("click",function(){var n=this.id;$("#dialog").load("/Podcast/ModalEpisodio?id="+n+"&accion=Editar",function(n,t){t=="success"?($("#dialog").modal("show"),$("#hModo").attr("value","Edit")):CargarAlertas(frmPodcast)})});$(".deleteEpisodio").on("click",function(){EliminarEpisodio(this.id,n)})}function IniciarTablaPodcast(){$.fn.dataTable.ext.errMode="none";$("#TablaPodcast").on("error.dt",function(){CargarAlertas(frmPodcast)});var n=$("#TablaPodcast").dataTable({dom:"Blfrtip",buttons:[],order:[[0,"desc"]],sAjaxSource:"/Podcast/CargarTabla",sServerMethod:"GET",aoColumns:[{sWidth:"2%",data:"IdPodcast",orderable:!1,sClass:"der",render:function(n,t,i){return BotoneraGrillaExpandir(i)}},{data:"Titulo_es",sWidth:"80%"},{data:"Id",sWidth:"20%",sClass:"der",orderable:!1,render:function(n,t,i){return BotoneraGrillaPodcast(i)}}],bAutoWidth:!1,bProcessing:!0,pageLength:50,language:{select:{rows:". %d filas seleccionadas"}},fnDrawCallback:function(){FuncionesBotoneraGrillaPodcast()}})}function FuncionesBotoneraGrillaPodcast(){$("[data-toggle=confirmation]").confirmation();$(".dt-button").removeClass("dt-button");$(".dt-buttons").addClass("space1");$(".editDialog").off().on("click",function(){EditarPodcast($(this).data("clientid"))});$(".habilitadoDialog").off().on("click",function(){var n=$(this),t=n.data("clientid");return Habilitar(t,CambiarColorBtnHabilitar(n)),!1});$(".btn-Episodio").on("click",function(){ModalEpisodio(this.id)});$(".btn-eliminar").on("click",function(){Eliminar(this.id)});$(".btn-episodio").on("click",function(){var t=$(this).closest("tr"),n=$("#TablaPodcast").DataTable().row(t);n.child.isShown()?($(this).switchClass("btn-primary","btn-default"),$("div.slider",n.child()).slideUp(500,function(){n.child.hide();t.removeClass("shown")})):($(this).switchClass("btn-default","btn-primary"),n.child(htmlGrillaEpisodios(this.id)).show(),IniciarTablaEpisodios(this.id),t.addClass("shown"),$("div.slider",n.child()).slideDown(100))})}function htmlGrillaEpisodios(n){return'<div class="slider">                     <table id="TablaEpisodio'+n+'" style="width: 100%">                         <thead>                             <tr style="background-color: #c0cee4">                                <th>Numero<\/th>                               <th>Titulo (es)<\/th>                               <th><\/th>                            <\/tr>                         <\/thead>                         <tbody><\/tbody>                     <\/table>                <\/div>'}function BotoneraGrillaEpisodio(n){return'                <button type="button" id="'+n.Id+'" class="editEpisodio btn btn-default btn-xs" title="Editar">                     <span class="glyphicon glyphicon-edit" aria-hidden="true"><\/span>                 <\/button>                 <button type="button" id="'+n.Id+'" class="deleteEpisodio btn btn-default btn-xs" data-toggle="confirmation" data-placement="left" data-singleton="true" data-on-confirm="Eliminar" data-title="¿Está seguro?" onclick="SelPodcast('+n.Id+');">                     <span class="glyphicon glyphicon-remove" aria-hidden="true"><\/span>                 <\/button> '}function BotoneraGrillaPodcast(n){var t="";return t+=n.Visible==1?'        <button type="button" class="habilitadoDialog btn btn-success btn-xs" data-clientid="'+n.Id+'" title="Habilitado" value="0">             <span class="glyphicon glyphicon-off" aria-hidden="true"><\/span>         <\/button>':'        <button type="button" class="habilitadoDialog btn btn-danger btn-xs" data-clientid="'+n.Id+'" title="DesHabilitado" value="1">             <span class="glyphicon glyphicon-off" aria-hidden="true"><\/span>         <\/button>',t+('        <button type="button" class="btn-Episodio btn btn-default btn-xs" id="'+n.Id+'" title="Agregar Episodio">             <span class="glyphicon glyphicon-plus" aria-hidden="true"><\/span>         <\/button>         <button type="button" class="editDialog btn btn-default btn-xs" data-clientid="'+n.Id+'" title="Editar">             <span class="glyphicon glyphicon-edit" aria-hidden="true"><\/span>         <\/button>         <button type="button" id="mat_'+n.Id+'" class="btn btn-default btn-xs" data-toggle="confirmation" data-placement="left" data-singleton="true" data-on-confirm="Eliminar" data-title="¿Está seguro?" onclick="SelPodcast('+n.Id+');">             <span class="glyphicon glyphicon-remove" aria-hidden="true">             <\/span>         <\/button>')}function ModalEpisodio(n){$("#dialog").load("/Podcast/ModalEpisodio?id="+n+"&accion=Alta",function(n,t){t=="success"?($("#dialog").modal("show"),$("#hModo").attr("value","Edit")):CargarAlertas(frmPodcast)})}function Habilitar(n,t){$.ajax({type:"POST",url:"/Podcast/Habilitar",data:{id:n,visible:t}}).done(function(){}).fail(function(){}).always(function(){CargarAlertas(frmPodcast)})}function SelPodcast(n){$("#hIdPodcast").val(n)}function Eliminar(){var n=$("#hIdPodcast").val();$.ajax({type:"POST",url:"/Podcast/Eliminar",data:{id:n}}).done(function(n){n.isEverythingGood&&ReloadTable("TablaPodcast",!0)}).fail(function(){}).always(function(){CargarAlertas(frmPodcast)})}function BotoneraGrillaExpandir(n){return'        <button type="button" class="btn-episodio btn btn-default btn-xs" id="'+n.Id+'" title="Ver Episodios">             <span class="glyphicon glyphicon-th-list" aria-hidden="true"><\/span>         <\/button>'}function EliminarEpisodio(n,t){$.ajax({type:"POST",url:"/Podcast/EliminarEpisodio",data:{idEpisodio:n}}).done(function(n){n.isEverythingGood&&ReloadTable("TablaEpisodio"+t,!0)}).fail().always(function(){CargarAlertas(frmPodcast)})}var frmPodcast="Podcast",frmModal="Modal";