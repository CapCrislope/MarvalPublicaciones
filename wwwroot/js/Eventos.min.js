function CargarBuscador(){$("#pnlBuscador").load("/Eventos/Buscador",function(n,t){t=="success"})}function InicializarCombosBusqueda(){var n=JSON.parse("["+$("#hAreas"+frmEventos).val()+"]");const t=new Promise(t=>{new Combo({name:"Areas",view:frmEventos,actionController:"/AreasPracticas/ObtenerComboAreas/",myClass:"combo",selectValue:n,cantItems:1,callback:function(){refreshScrollbar();t()}}).createBasicCombo()});Promise.all([t]).then(()=>{validarSearchParams()})}async function BuscarEventos(n=1){const t=AnimacionBuscar();$("#pnlEventosRecientes").html("");t.then(async()=>{let u=$("#ddlAreasEventos + .selectize-control .item").html(),r=$("#Palabras").val(),f=$("#FechaDesde").val(),e=$("#FechaHasta").val(),t=$("#hProfesional"+frmEventos).val();t!=""&&t!=null&&t!=undefined&&(r=await ObtenerNombreProfesional(t));let i=[r??"",u??"",f??"",e??""];i=i.filter(n=>n!=="");let o=i.join(" - ");$("#nroResultados").html("...");$("#datosBusqueda").html(o);$("#NroPag").val(n);$("#pnlContenido").load("/Eventos/ObtenerEventosPorParams",$("#frmBusqueda"+frmEventos).serialize(),function(n,t){t=="success"&&$("#hProfesional"+frmEventos).val("")})})}function VolverAlBuscador(){const n=AnimacionVolverAlBuscador();$("#pnlContenido").html("");n.then(()=>{CargarContenidoInicial()})}function ChangePagePagination(n){var t=$("#Identif").val();t=="Inicial"?CargarContenidoInicial(n):($("#NroPag").val(n),$("#pnlContenido").load("/Eventos/ObtenerEventosPorParams",$("#frmBusqueda"+frmEventos).serialize(),function(n,t){t=="success"&&$("#hProfesional"+frmEventos).val("")}));UpTo(".seccion-container")}function CargarContenidoInicial(n=1){$("#NroPag").val(n);$("#pnlEventosRecientes").load("/Eventos/ContenidoInicialEventos",{NroPag:n},function(n,t){t=="success"})}function validarSearchParams(){let n=localStorage.getItem("doSearch");n!="0"&&n!=null&&n!=""?(localStorage.setItem("doSearch",0),BuscarEventos()):CargarContenidoInicial()}function ObtenerNombreProfesional(n){return new Promise((t,i)=>{$.ajax({type:"GET",url:"/Profesionales/ObtenerProfesional",data:{idProfesional:n},success:function(n){t(n)},error:function(n){i(n)}})})}function CargarPanelProfesionalesAlternativo(n){$("#pnl-profesionales-evento").load("/Profesionales/ProfesionalesAlternativoEdicionEventos",{idEvento:n},function(n,t,i){i=="success"})}function GetPanelAgenda(n){$("#pnl-agenda-evento").load("/Eventos/GetPanelAgenda",{idEdicionEvento:n},function(n,t){t=="success"&&n==""&&$("#nav-agenda").css("display","none")})}function InicializarAgenda(n){var t=window.matchMedia("(min-width: 1024px)");if(t.matches){$("#seleccion-dias").css("display","grid");$(".s-dia").on("click",function(){$(".s-dia").removeClass("dia-seleccionado-agenda");$(this).addClass("dia-seleccionado-agenda");GetDetalleAgenda($(this).data("id"))});return}$(".agenda-header form").css("display","flex");ObtenerComboAgenda(n)}function GetDetalleAgenda(n){n=n??$("#hFechaAgenda_PanelAgenda").val();$("#cont-agenda").load("/Eventos/GetDetalleAgenda",{idAgenda:n},function(n,t){t=="success"})}function GetContenidoExtra(n){$("#pnl-contenido-extra").load("/Eventos/GetContenidoExtra",{idEdicionEvento:n},function(n,t){t=="success"&&n==""&&$("#nav-contextra").css("display","none")})}async function ReproducirPausar(n){var i=$(n.currentTarget).find("iframe"),t=i.attr("id");players[t]==null&&players[t]==undefined&&(currentPlayingVideoId=t,await initializePlayer(t))}async function initializePlayer(n){return new Promise(t=>{players[n]=new YT.Player(n,{events:{onReady:function(i){onPlayerReady(i,n);SetearReproduciendose(n);var r=players[n];r.playVideo();t()}}})})}function onPlayerReady(n,t){if(!n.target.initializedClickEvent){n.target.initializedClickEvent=!0;const i=players[t];$("#"+t).closest(".video-wrapper").on("click",function(){if(currentPlayingVideoId&&currentPlayingVideoId!==t){const n=players[currentPlayingVideoId];n.pauseVideo()}currentPlayingVideoId=t;var n=ObtenerReproduciendo(t);n?(i.pauseVideo(),SetearReproduciendose(t,!1)):(i.playVideo(),SetearReproduciendose(t))})}}function SetearReproduciendose(n,t=true){$("#"+n).data("reproduciendo",t)}function ObtenerReproduciendo(n){return $("#"+n).data("reproduciendo")}function ObtenerComboRegistrarse(){var n=JSON.parse("["+$("#hRegistrarseDetalleEvento").val()+"]");const t=new Promise(t=>{new Combo({name:"Registrarse",view:"DetalleEvento",actionController:"/Eventos/ObtenerComboRegistrarse/",myClass:"combo",selectValue:n,cantItems:1,callback:function(){refreshScrollbar();t()}}).createBasicCombo()});Promise.all([t]).then(()=>{validarSearchParams()})}function ObtenerComboAgenda(n){var t=JSON.parse("["+$("#hFechaAgenda_PanelAgenda").val()+"]");const i=new Promise(i=>{new Combo({name:"FechaAgenda",view:"_PanelAgenda",actionController:"/Eventos/ObtenerComboFechaAgenda/",myClass:"combo",selectValue:t,cantItems:1,search:n,change:GetDetalleAgenda,callback:function(){refreshScrollbar();i()}}).createBasicCombo()});Promise.all([i]).then(()=>{validarSearchParams()})}function AbrirModalDynamicsForEvento(n,t){$("#dialog-personalizado").load("/Eventos/ModalInscripcion",{formId:n,formEventoId:t},function(n,t){t=="success"&&AbrirModalPersonalizado()})}function CargarFormularioDynamicsForEvento(n,t,i){let u="https://public-usa.mkt.dynamics.com/api/v1.0/orgs/a91d8d7d-758d-ee11-8172-6045bdd4f42a/eventmanagement",f="https://assets-usa.mkt.dynamics.com/a91d8d7d-758d-ee11-8172-6045bdd4f42a/digitalassets/forms/"+t;const r=document.querySelector(n);if(r!=undefined){let n={"data-readable-event-id":i};r.appendChild(d365mktforms.createForm(t,u,f,n))}}var frmEventos="Eventos",players={};let currentPlayingVideoId=null;