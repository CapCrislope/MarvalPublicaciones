function comboTipoCuenta(n,t,i){var r;r=t==null?JSON.parse("["+$("#hIdTipoCuenta"+n).val()+"]"):JSON.parse("["+$("#hIdTipoCuenta"+t+""+n).val()+"]");new Combo({name:t==null?"IdTipoCuenta":"IdTipoCuenta"+t,view:n,actionController:"/Independiente/LlenarComboTipoCuenta",cantItems:1,selectValue:r}).createBasicCombo();i!=null&&i("_ModalInfoSocio","Dolares",null)}function comboBanco(n,t){var i=JSON.parse("["+$("#hBanco"+n+"_ModalInfoSocio").val()+"]");new Combo({name:"Banco"+n,view:"_ModalInfoSocio",actionController:"/Independiente/LlenarComboBanco",cantItems:1,selectValue:i,change:ResetInputsCuentas}).createBasicCombo();t!=null&&t("Dolares",null)}function ResetInputsCuentas(){var n=$("#hBancoPesos_ModalInfoSocio").val(),t=$("#hBancoDolares_ModalInfoSocio").val();n==1?($("#PCbu").val(""),$("#PCbu").prop("disabled",!0),$("#PNroCuenta").prop("disabled",!1)):($("#PNroCuenta").val(""),$("#PNroCuenta").prop("disabled",!0),$("#PCbu").prop("disabled",!1));t==1?($("#DCbu").val(""),$("#DCbu").prop("disabled",!0),$("#DNroCuenta").prop("disabled",!1)):($("#DNroCuenta").val(""),$("#DNroCuenta").prop("disabled",!0),$("#DCbu").prop("disabled",!1))}function comboSocios(){var n=$("#hUsuario_ModalInfoSocio").val();new Combo({name:"Usuario",view:"_ModalInfoSocio",actionController:"/Independiente/LlenarComboSocios",actionControllerSelect:"/Independiente/LlenarComboSocios",valueField:"Id",labelField:"Descripcion",cantItems:1,selectValue:n}).createSearchCombo()}function modalInfoCuentaMarval(){$("#dialog").load("/Independiente/ModalInfoCuentaMarval",function(n,t){t=="success"?$("#dialog").modal("show"):CargarAlertas(frmHome)})}function guardarInfoCuentaMarval(){$("#FormInfoCuentaMarval").valid()&&$.post("/Independiente/GuardarInfoCuentaMarval",$("#FormInfoCuentaMarval").serialize()).done(function(n){n.isEverythingGood==!0&&($("#dialog").modal("hide"),ReloadTable("InformacionMarvalTable",!1))}).always(function(){CargarAlertas(frmHome)})}function InicializarTablaInfoCuentaMarval(){$.fn.dataTable.ext.errMode="none";$("#InformacionMarvalTable").on("error.dt",function(){CargarAlertas(frmHome)});var n=$("#InformacionMarvalTable").dataTable({bProcessing:!0,sAjaxSource:"/Independiente/LlenarGrillaInfoCuentaMarval",sServerMethod:"POST",sDom:"t",aoColumns:[{data:"NroConvenioGG",sWidth:"15%",orderable:!1,render:function(n){return n==null?0:n}},{data:"NroConvenioGO",sWidth:"15%",orderable:!1,render:function(n){return n==null?0:n}},{data:"Cuit",sWidth:"15%",orderable:!1,render:function(n){return n==null?0:n}},{data:"TipoCuenta",sWidth:"15%",orderable:!1,render:function(n){return n==null?"-":n}},{data:"NroCuenta",sWidth:"15%",orderable:!1,render:function(n){return n==null?"-":n}},{data:"CodigoConcepto",sWidth:"15%",orderable:!1,render:function(n){return n==null?0:n}},{sWidth:"10%",sClass:"der",orderable:!1,render:function(n,t,i){if($("#modoAcceso").val()=="RRHH")return botoneraInfoCuentaMarval(i)}}],bAutoWidth:!1,pageLength:50,language:{select:{rows:". %d filas seleccionadas"}},fnDrawCallback:function(){$("#modoAcceso").val()=="RRHH"&&functionsInfoCuentaMarval()}})}function botoneraInfoCuentaMarval(n){return html="",html+='<button type="button" class="editarInfoCuentaMarval btn btn-light btn-xs ml-1" data-id="'+n.IdInfoCuentaMarval+'" title="Editar">                 <span class="far fa-edit fa-1" aria-hidden="true"><\/span>             <\/button>'}function functionsInfoCuentaMarval(){$(".editarInfoCuentaMarval").off().on("click",function(){modalInfoCuentaMarval()})}function altaSocio(){modalSocioInfo(null)}function modalSocioInfo(n){$("#dialog").load("/Independiente/ModalInfoSocio",{IdSocio:n},function(n,t){t=="success"?$("#dialog").modal("show"):CargarAlertas(frmHome)})}function guardarInfoCuentasSocio(){if($("#FormInfoSocioMarval").valid()){var i=$("#hBancoPesos_ModalInfoSocio").val(),n=$("#hBancoDolares_ModalInfoSocio").val(),f=$("#PNroCuenta").val(),r=$("#DNroCuenta").val(),e=$("#PCbu").val(),u=$("#DCbu").val(),t=$("#hIdTipoCuentaDolares_ModalInfoSocio").val();i==1&&f!=""||i==2&&e!=""?n==0&&t==0&&r==""&&u==""||n==1&&t!=0&&r!=""||n==2&&t!=0&&u!=""?$.post("/Independiente/GuardarDatosCuentaSocio",$("#FormInfoSocioMarval").serialize()).done(function(n){n.isEverythingGood==!0&&($("#dialog").modal("hide"),ReloadTable("InformacionSociosTable",!1))}).always(function(){CargarAlertas(frmHome)}):Danger("Los campos para la cuenta en dólares están incompletos."):Danger("Debe cargar al menos el número de cuenta o CBU para una cuenta en pesos.")}}function InicializarTablaInfoSocios(){$.fn.dataTable.ext.errMode="none";$("#InformacionSociosTable").on("error.dt",function(){CargarAlertas(frmHome)});var n=$("#InformacionSociosTable").dataTable({bProcessing:!0,sAjaxSource:"/Independiente/LlenarGrillaInfoSociosCuentas",sServerMethod:"POST",dom:"lfrtip",aoColumns:[{data:"IdUsuario",sWidth:"5%"},{data:"Legajo",sWidth:"5%"},{data:"NombreSocio",sWidth:"15%"},{data:"Email",sWidth:"20%"},{data:"Cuil",sWidth:"9%"},{sWidth:"20%",render:function(n,t,i){return i.PIdBanco==1?i.PTipoCuenta==1?"CA "+i.PNroCuenta:"CC "+i.PNroCuenta:"CBU "+i.PCbu}},{sWidth:"20%",render:function(n,t,i){switch(i.DIdBanco){case 1:return i.DTipoCuenta==1?"CA "+i.DNroCuenta:"CC "+i.DNroCuenta;case 2:return"CBU "+i.DCbu;default:return""}}},{sWidth:"6%",sClass:"der",orderable:!1,render:function(n,t,i){if($("#modoAcceso").val()=="RRHH")return botoneraInfoSociosMarval(i)}}],bAutoWidth:!1,pageLength:50,language:{select:{rows:". %d filas seleccionadas"}},fnDrawCallback:function(){$("#modoAcceso").val()=="RRHH"&&functionsInfoSociosMarval()}})}function botoneraInfoSociosMarval(n){return html="",html+=BtnEditar(n.IdInfoCuentaSocio),html+=BtnEliminar(n.IdInfoCuentaSocio)}function functionsInfoSociosMarval(){$(".editar").off().on("click",function(){modalSocioInfo($(this).attr("data-id"))});InitializeConfirmationPop(deleteRegistro)}function Sel(n){$("#idUsuario").val(n)}function deleteRegistro(){var n=$("#idUsuario").val();$.post("/Independiente/DeleteInfoSocio",{IdInfoCuentaSocio:n}).done(function(n){n.isEverythingGood==!0&&ReloadTable("InformacionSociosTable",!1)}).always(function(){CargarAlertas(frmHome)})}